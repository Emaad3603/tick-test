import{T as M,o as h,c as $,h as e,f as t,g as r,t as a,F as k,d as I,e as x,u as T,k as V,a as s,r as y,x as B}from"./app-06066091.js";import N from"./App-d2aece6e.js";import{A as q}from"./AlertModal-04f87487.js";import{u as R}from"./useAlertModal-20c1d6c7.js";import{T as j}from"./Table-593fb9c4.js";import{T as E,a as O,b as d}from"./TableHeaderRowItem-58f056c6.js";import{T as H,a as P,b as f}from"./TableBodyRowItem-f7a16ee1.js";import{D as U}from"./Dropdown-82fc851d.js";import{D as Z,a as A}from"./DropdownItem-f7277231.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import{F as L}from"./FormModalModified-641bf4d3.js";import{t as c}from"./index-8e47e887.js";import"./App-3a5d1971.js";import"./Sidebar-53ff02b1.js";import"./Menu-18e4a0b3.js";import"./ProfileModal-9fa7d7fd.js";import"./FormInput-a5364d31.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./FormSelect-6c96738a.js";import"./hidden-94645dc9.js";import"./use-text-value-6338b60a.js";import"./use-outside-click-6f649936.js";import"./use-resolve-button-type-737f9372.js";import"./transition-9e93c540.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./LangToggle-4117f8d3.js";import"./MobileSidebar-c90c1661.js";import"./index-2177aed8.js";/* empty css              */import"./Sidebar-86915732.js";import"./Pagination-d90e3b69.js";import"./use-tree-walker-26135af6.js";import"./Modal-858f9f8a.js";import"./FormImage-b4d8860f.js";import"./FormTextArea-248be5f8.js";const Q=s("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[s("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1),S={__name:"CouponTable",props:{rows:{type:Array,required:!0}},emits:["edit","delete"],setup(w,{emit:_}){const{isOpenAlert:u,openAlert:b,confirmAlert:m}=R(),v=_,i=M({test:null});function g(l){v("edit",l)}const C=l=>{i.delete("/admin/coupons/"+l)};return(l,n)=>(h(),$(k,null,[e(j,{rows:w.rows},{default:t(()=>[e(E,null,{default:t(()=>[e(O,null,{default:t(()=>[e(d,{position:"first"},{default:t(()=>[r(a(l.$t("Name")),1)]),_:1}),e(d,null,{default:t(()=>[r(a(l.$t("Coupon code")),1)]),_:1}),e(d,null,{default:t(()=>[r(a(l.$t("Percentage")),1)]),_:1}),e(d,null,{default:t(()=>[r(a(l.$t("Quantity")),1)]),_:1}),e(d,null,{default:t(()=>[r(a(l.$t("Status")),1)]),_:1}),e(d,{position:"last"})]),_:1})]),_:1}),e(H,null,{default:t(()=>[(h(!0),$(k,null,I(w.rows.data,(o,p)=>(h(),x(P,{key:p},{default:t(()=>[e(f,{position:"first"},{default:t(()=>[r(a(o.name),1)]),_:2},1024),e(f,null,{default:t(()=>[r(a(o.code),1)]),_:2},1024),e(f,null,{default:t(()=>[r(a(o.percentage)+"%",1)]),_:2},1024),e(f,null,{default:t(()=>[r(a(o.quantity-o.quantity_redeemed),1)]),_:2},1024),e(f,null,{default:t(()=>[r(a(l.$t(o.status)),1)]),_:2},1024),e(f,{position:"last"},{default:t(()=>[e(U,{align:"right",class:"mt-2"},{items:t(()=>[e(Z,null,{default:t(()=>[e(A,{as:"button",onClick:D=>g(o.id)},{default:t(()=>[r(a(l.$t("Edit")),1)]),_:2},1032,["onClick"]),e(A,{as:"button",onClick:D=>T(b)(o.id)},{default:t(()=>[r(a(l.$t("Delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[Q]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["rows"]),e(q,{modelValue:T(u),"onUpdate:modelValue":n[0]||(n[0]=o=>V(u)?u.value=o:null),onConfirm:n[1]||(n[1]=()=>T(m)(C)),label:l.$t("Delete row"),description:l.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},G=F(S,[["__file","CouponTable.vue"]]),z={class:"flex justify-between"},J={class:"text-xl mb-1"},K={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},W=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),X={class:"ml-1 mt-1"},Y={__name:"Coupon",props:{rows:Object},setup(w){const _=w,u=y(!1),b=y("Add Coupon"),m=y("/admin/coupons"),v=y("post"),i={name:null,code:null,percentage:null,quantity:null},g=(n,o={})=>{b.value=c("Add coupon"),m.value="/admin/coupons",v.value="post",n!=null?(b.value=c("Edit coupon"),m.value="/admin/coupons/"+n,v.value="put",C()):(i.name=null,i.code=null,i.percentage=null,i.quantity=null,u.value=!0)};function C(){B.get(m.value).then(n=>{const{data:o}=n;for(const p in o.item)i.hasOwnProperty(p)&&(i[p]=o.item[p]);u.value=!0}).catch(n=>{})}const l=[{inputType:"FormInput",name:"name",label:c("name"),type:"text",className:"sm:col-span-6"},{inputType:"FormInput",name:"code",label:c("Coupon code"),type:"text",className:"sm:col-span-3"},{inputType:"FormInput",name:"percentage",label:c("Percentage"),type:"number",className:"sm:col-span-3"},{inputType:"FormInput",name:"quantity",label:c("Quantity"),type:"number",className:"sm:col-span-6"}];return(n,o)=>(h(),x(N,null,{default:t(()=>[s("div",z,[s("div",null,[s("h2",J,a(n.$t("Coupons")),1),s("p",K,[W,s("span",X,a(n.$t("Configure coupons")),1)])]),s("div",null,[s("button",{onClick:o[0]||(o[0]=p=>g()),type:"button",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},a(n.$t("Add coupon")),1)])]),e(G,{rows:_.rows,onEdit:g,onDelete:n.openAlert},null,8,["rows","onDelete"]),e(L,{modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=p=>u.value=p),label:b.value,url:m.value,form:i,formInputs:l,formMethod:v.value,onCloseModal:o[2]||(o[2]=p=>u.value=!1)},null,8,["modelValue","label","url","formMethod"])]),_:1}))}},je=F(Y,[["__file","Coupon.vue"]]);export{je as default};
