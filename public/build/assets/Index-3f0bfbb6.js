import{r as d,T,O as Y,o as n,c as r,a as e,w as ee,v as te,u as a,b as m,F as N,d as I,t as l,e as C,f as V,g as se,i as oe,h as p,j as $,n as b,k as le,l as ae}from"./app-06066091.js";import ne from"./App-3a5d1971.js";import{d as re}from"./debounce-26497136.js";import{A as ie}from"./AlertModal-04f87487.js";import{u as de}from"./useAlertModal-20c1d6c7.js";import{M as F}from"./Modal-858f9f8a.js";import{F as E}from"./FormInput-a5364d31.js";import{F as D}from"./FormToggleSwitch-ed559e79.js";import{P as ce}from"./Pagination-d90e3b69.js";import{t as W}from"./index-8e47e887.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import"./Sidebar-53ff02b1.js";import"./Menu-18e4a0b3.js";import"./ProfileModal-9fa7d7fd.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./FormSelect-6c96738a.js";import"./hidden-94645dc9.js";import"./use-text-value-6338b60a.js";import"./use-outside-click-6f649936.js";import"./use-resolve-button-type-737f9372.js";import"./transition-9e93c540.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./LangToggle-4117f8d3.js";import"./MobileSidebar-c90c1661.js";import"./index-2177aed8.js";/* empty css              */import"./_baseGetTag-c09aeb4c.js";const ue={class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-12 md:h-10 w-full md:w-80 rounded-[0.5rem] mb-6 text-xl md:text-sm"},me=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1),pe=["placeholder"],he=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1),ve=[he],fe={key:1,class:"pr-2"},ge=ae('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1),be=[ge],_e={class:"grid md:grid-cols-3 gap-x-5 gap-y-4"},xe={class:"flex items-center gap-x-3 pb-2 bg-slate-50 px-4 pt-4 rounded-tr-[0.5rem] rounded-tl-[0.5rem]"},ye=["src"],we={class:"text-[16px]"},ke={class:"text-slate-500 border-b px-4 text-xs pt-2 pb-4"},$e={class:"flex justify-between items-center px-4 pb-4 text-xs"},Ce={key:0,class:"py-1 px-3 rounded-md text-slate-600 bg-red-600 text-white"},Ve={key:1,class:"py-1 px-3 rounded-md text-slate-600 bg-slate-50"},Ae=["onClick"],Se=["onClick"],Me={class:"grid grid-cols-1 gap-x-6 gap-y-4"},Te={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},Ne={class:"flex items-center gap-x-3"},Oe=["src"],je={class:"text-[16px]"},Be={class:"text-slate-500 font-light text-xs pt-4"},Ue={class:"grid gap-x-6 gap-y-4 sm:grid-cols-2"},Le={key:1},Ze={class:"text-sm mb-2"},Ie={class:"text-sm mb-2"},Fe={key:0,class:"bg-orange-100 p-2 rounded-md shadow-sm mb-1 col-span-2"},Ee={class:"flex items-center gap-x-1 border-b border-slate-500 pb-2 mb-2"},De=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),We={class:"text-sm"},ze={class:"text-sm leading-6 break-all"},Re={class:"text-sm leading-6 break-all"},qe={class:"mt-5 border-t pt-5 flex"},Je=["disabled"],Pe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Ke=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Ge=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),He=[Ke,Ge],Qe={key:1},Xe={class:"grid grid-cols-1 gap-x-6 gap-y-4"},Ye={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},et={class:"flex items-center gap-x-3"},tt=["src"],st={class:"text-[16px]"},ot={class:"text-slate-500 font-light text-xs pt-4"},lt={class:"grid gap-x-6 sm:grid-cols-2"},at={class:"text-sm"},nt={class:"col-span-2 text-xs text-slate-600 mb-2"},rt={class:"mt-5 border-t pt-5 flex"},it=["disabled"],dt={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},ct=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),ut=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),mt=[ct,ut],pt={key:1},ht={__name:"AddonTable",props:{rows:{type:Object,required:!0},filters:{type:Object},config:{type:Array}},emits:["edit","delete"],setup(h,{emit:A}){const f=h,{isOpenAlert:_,openAlert:kt,confirmAlert:R}=de(),x=d(!1),y=d(!1);d(!1);const q=d(window.location.origin);d(!1);const J=T({test:null}),i=T({uuid:null,settings:{},is_active:null}),u=T({uuid:null,purchase_code:null,addon:null}),P=s=>{J.delete("/admin/faqs/"+s)},g=d({search:f.filters.search}),S=d(!1),K=()=>{g.value.search=null,j()},O=re(()=>{S.value=!0,j()},1e3),j=()=>{const s=window.location.pathname;Y.visit(s,{method:"get",data:g.value})},B=d(null),w=d(null),v=d(null),k=d(null),U=d(null),L=d([]),G=s=>{var c;w.value=s.logo,v.value=s.name,k.value=s.description;const o=((c=JSON.parse(s.metadata))==null?void 0:c.input_fields)||[];L.value=o,i.settings={};let t=v.value.toLowerCase().replace(/ /g,"-");B.value="/admin/addons/setup/"+t,i.is_active=s.is_active,i.uuid=s.uuid,o.forEach(M=>{i.settings[M.name]=Z(M.name,M.element)}),x.value=!0},H=(s,o)=>{const t=s.metadata?JSON.parse(s.metadata):null;w.value=s.logo,v.value=s.name,k.value=s.description,U.value=o=="extended"?W("Enter your extended license to install"):W("Enter the addon license to install"),u.uuid=s.uuid,u.addon=(t==null?void 0:t.name)||s.name,y.value=!0},Z=(s,o=null)=>{const t=f.config.find(c=>c.key===s);return t?t.value:o=="toggle"?0:""},Q=()=>{i.post(B.value,{preserveScroll:!0,onSuccess:()=>{x.value=!1}})},X=()=>{u.post("/admin/addons/install",{preserveScroll:!0,onSuccess:()=>{y.value=!1}})};return(s,o)=>(n(),r(N,null,[e("div",ue,[me,ee(e("input",{onInput:o[0]||(o[0]=(...t)=>a(O)&&a(O)(...t)),"onUpdate:modelValue":o[1]||(o[1]=t=>g.value.search=t),type:"text",class:"outline-none px-4 w-full",placeholder:s.$t("Search")},null,40,pe),[[te,g.value.search]]),S.value===!1&&g.value.search?(n(),r("button",{key:0,onClick:K,type:"button",class:"pr-2"},ve)):m("",!0),S.value?(n(),r("span",fe,be)):m("",!0)]),e("div",_e,[(n(!0),r(N,null,I(h.rows.data,t=>(n(),r("div",{key:t.id,class:"bg-white rounded-[0.5rem] shadow-md text-sm space-y-3"},[e("div",xe,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+t.logo,alt:"Whatsapp Logo"},null,8,ye)]),e("div",we,l(s.$t(t.name)),1)]),e("div",ke,l(t.description),1),e("div",$e,[e("div",null,[t.status==0?(n(),r("span",Ce,l(s.$t("Not installed")),1)):t.status==1&&t.update_available==0?(n(),r("span",Ve,l(s.$t("Installed")),1)):t.status==1&&t.update_available==1?(n(),C(a(oe),{key:2,href:"/admin/updates",class:"py-1 px-3 rounded-md text-slate-600 bg-green-600 text-white"},{default:V(()=>[se(l(s.$t("Update available")),1)]),_:1})):m("",!0)]),e("div",null,[t.status==0?(n(),r("button",{key:0,onClick:c=>H(t,t.license),class:"rounded-full border-2 w-full px-10 py-2 hover:border-secondary hover:bg-secondary hover:text-white text-secondary"},l(s.$t("Install")),9,Ae)):(n(),r("button",{key:1,onClick:c=>G(t),class:"rounded-full border-2 w-full px-10 py-2 hover:border-secondary hover:bg-secondary hover:text-white text-secondary"},l(s.$t("Setup")),9,Se))])])]))),128))]),p(ce,{class:"mt-3",pagination:h.rows.meta},null,8,["pagination"]),p(F,{isOpen:x.value},{default:V(()=>[e("div",Me,[e("div",Te,[e("div",Ne,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+w.value,alt:"Whatsapp Logo"},null,8,Oe)]),e("div",je,l(s.$t(v.value)),1)]),e("div",Be,l(k.value),1)]),e("form",{onSubmit:o[4]||(o[4]=$(t=>Q(),["prevent"]))},[e("div",Ue,[(n(!0),r(N,null,I(L.value,t=>(n(),r("div",{class:b(t.class)},[t.element=="input"?(n(),C(E,{key:0,modelValue:a(i).settings[t.name],"onUpdate:modelValue":c=>a(i).settings[t.name]=c,error:a(i).errors[`settings.${t.name}`],name:s.$t(t.label),type:t.type,class:b(t.class)},null,8,["modelValue","onUpdate:modelValue","error","name","type","class"])):m("",!0),t.element=="toggle"?(n(),r("div",Le,[e("div",Ze,l(s.$t(t.label)),1),t.element=="toggle"?(n(),C(D,{key:0,modelValue:a(i).settings[t.name],"onUpdate:modelValue":c=>a(i).settings[t.name]=c},null,8,["modelValue","onUpdate:modelValue"])):m("",!0)])):m("",!0)],2))),256)),e("div",null,[e("div",Ie,l(s.$t("Enable/disable addon")),1),p(D,{modelValue:a(i).is_active,"onUpdate:modelValue":o[2]||(o[2]=t=>a(i).is_active=t)},null,8,["modelValue"])]),v.value=="Embedded Signup"?(n(),r("div",Fe,[e("div",Ee,[De,e("p",We,l(s.$t("Webhook setup")),1)]),e("span",null,[e("p",ze,l(s.$t("Callback URL"))+": "+l(q.value+"/webhook/waba"),1),e("p",Re,l(s.$t("Verify token"))+": "+l(Z("whatsapp_callback_token")),1)])])):m("",!0)]),e("div",qe,[e("button",{type:"button",onClick:o[3]||(o[3]=$(t=>x.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},l(s.$t("Cancel")),1),e("button",{class:b(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":a(i).processing}]),disabled:a(i).processing},[a(i).processing?(n(),r("svg",Pe,He)):(n(),r("span",Qe,l(s.$t("Save")),1))],10,Je)])],32)])]),_:1},8,["isOpen"]),p(F,{isOpen:y.value},{default:V(()=>[e("div",Xe,[e("div",Ye,[e("div",et,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+w.value,alt:"Whatsapp Logo"},null,8,tt)]),e("div",st,l(s.$t(v.value)),1)]),e("div",ot,l(k.value),1)]),e("form",{onSubmit:o[7]||(o[7]=$(t=>X(),["prevent"]))},[e("div",lt,[e("h4",at,l(s.$t("Envato purchase code")),1),e("span",nt,l(U.value),1),p(E,{modelValue:a(u).purchase_code,"onUpdate:modelValue":o[5]||(o[5]=t=>a(u).purchase_code=t),error:a(u).errors.purchase_code,name:"",type:"text",class:b("col-span-2")},null,8,["modelValue","error"])]),e("div",rt,[e("button",{type:"button",onClick:o[6]||(o[6]=$(t=>y.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},l(s.$t("Cancel")),1),e("button",{class:b(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":a(u).processing}]),disabled:a(u).processing},[a(u).processing?(n(),r("svg",dt,mt)):(n(),r("span",pt,l(s.$t("Save")),1))],10,it)])],32)])]),_:1},8,["isOpen"]),p(ie,{modelValue:a(_),"onUpdate:modelValue":o[8]||(o[8]=t=>le(_)?_.value=t:null),onConfirm:o[9]||(o[9]=()=>a(R)(P)),label:s.$t("Delete row"),description:s.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},vt=z(ht,[["__file","AddonTable.vue"]]),ft={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},gt={class:"flex justify-between"},bt={class:"text-xl mb-1"},_t={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},xt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),yt={class:"ml-1 mt-1"},wt={__name:"Index",props:{title:String,rows:Object,filters:Object,config:Array},setup(h){const A=h;return(f,_)=>(n(),C(ne,null,{default:V(()=>[e("div",ft,[e("div",gt,[e("div",null,[e("h1",bt,l(f.$t("Explore Add-ons Marketplace")),1),e("p",_t,[xt,e("span",yt,l(f.$t("Select an addon that you want to install on your platform")),1)])])]),p(vt,{rows:A.rows,filters:A.filters,config:h.config},null,8,["rows","filters","config"])])]),_:1}))}},Yt=z(wt,[["__file","Index.vue"]]);export{Yt as default};
