import{T as g,e as x,f as p,o as l,a as t,t as e,h as b,g as w,u as n,i as k,c as d,j as y,n as $,b as f,d as C,F as V,O as S}from"./app-06066091.js";import{A}from"./App-53e90ba2.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-8e47e887.js";import{F as L}from"./FormTextArea-248be5f8.js";import"./Sidebar-56399b82.js";import"./Menu-32707887.js";import"./Modal-858f9f8a.js";import"./transition-9e93c540.js";import"./hidden-94645dc9.js";import"./use-outside-click-6f649936.js";import"./micro-task-89dcd6af.js";import"./ProfileModal-9fa7d7fd.js";import"./FormInput-a5364d31.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./FormSelect-6c96738a.js";import"./use-text-value-6338b60a.js";import"./use-resolve-button-type-737f9372.js";import"./tabs-470b041d.js";import"./LangToggle-4117f8d3.js";import"./OrganizationModal-94b0dd29.js";import"./index-2177aed8.js";import"./MobileSidebar-c9250509.js";/* empty css              */const T={class:"bg-white md:bg-inherit pt-0 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] overflow-y-scroll"},j={class:"flex justify-between mt-8 md:mt-0"},F={class:"text-xl mb-1"},N=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.841 5.28a.75.75 0 0 0-1.06-1.06L1.53 7.47L1 8l.53.53l3.25 3.25a.75.75 0 0 0 1.061-1.06l-1.97-1.97H24.25a.75.75 0 0 0 0-1.5H3.871l1.97-1.97Z","clip-rule":"evenodd"})],-1),z={class:"grid grid-cols-2 md:flex gap-x-6 mt-4 md:mt-10"},D={class:"col-span-2 md:order-1 md:w-[70%]"},U={class:"bg-white border py-5 px-5 rounded-[0.5rem] mb-4 text-sm"},I={class:"text-xl"},M={class:"border border-dashed py-2 px-2 mt-8 bg-slate-100"},H={key:0,class:"bg-white border py-5 px-5 rounded-[0.5rem] mb-4"},O={type:"submit",class:"mb-2 rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"},E={class:"flex space-x-4 text-sm"},P={class:"bg-slate-100 rounded-full h-12 w-12 p-4 flex justify-center items-center"},R={class:"space-x-4 mb-1"},Z={class:"col-span-2 w-[100%] md:order-2 md:w-[30%]"},q={class:"bg-white border p-4 text-sm rounded-[0.5rem]"},G={class:"bg-slate-100 p-2 rounded mb-2 space-x-3"},J={class:"capitalize"},K={class:"bg-slate-100 p-2 rounded mb-2 space-x-3"},Q={class:"capitalize"},W={class:"bg-slate-100 p-2 rounded mb-2 space-x-3"},X={class:"capitalize"},Y={class:"bg-slate-100 p-2 rounded mb-2 space-x-3"},tt={key:0,class:"flex grid grid-cols-2 space-x-2 mt-4"},et={__name:"View",props:["ticket"],setup(h){const o=h,a=g({message:null}),m=s=>{const r={month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(s).toLocaleString("en-US",r)},v=(s,r)=>{const i=s.charAt(0).toUpperCase(),c=r.charAt(0).toUpperCase();return`${i}${c}`},_=()=>{a.post("/support/"+o.ticket.uuid+"/comment",{preserveScroll:!0,onSuccess:()=>a.reset()})},u=s=>{S.post("/support/"+o.ticket.uuid+"/status",{status:s})};return(s,r)=>(l(),x(A,null,{default:p(()=>[t("div",T,[t("div",j,[t("div",null,[t("h2",F,e(s.$t("Ticket ref"))+": "+e(o.ticket.reference),1)]),t("div",null,[b(n(k),{href:"/support",class:"flex items-center space-x-4 rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:p(()=>[N,w(" "+e(s.$t("Back")),1)]),_:1})])]),t("div",z,[t("div",D,[t("div",U,[t("h2",I,e(s.$t("Subject"))+": "+e(o.ticket.subject),1),t("div",M,e(o.ticket.message),1)]),o.ticket.status==="open"||o.ticket.status==="pending"?(l(),d("div",H,[t("form",{onSubmit:r[1]||(r[1]=y(i=>_(),["prevent"]))},[b(L,{modelValue:n(a).message,"onUpdate:modelValue":r[0]||(r[0]=i=>n(a).message=i),name:s.$t("Comment"),type:"text",showLabel:!0,error:n(a).errors.message,textAreaRows:3,class:$("sm:col-span-6 mb-5")},null,8,["modelValue","name","error"]),t("button",O,e(s.$t("Add comment")),1)],32)])):f("",!0),(l(!0),d(V,null,C(o.ticket.comments_with_user,(i,c)=>(l(),d("div",{key:c,class:"bg-white border py-5 px-5 rounded-[0.5rem] mb-2"},[t("div",E,[t("div",null,[t("div",P,e(v(i.user.first_name,i.user.last_name)),1)]),t("div",null,[t("div",R,[t("span",null,e(i.user.first_name+" "+i.user.last_name),1),t("span",null,e(m(i.created_at)),1)]),t("div",null,e(i.message),1)])])]))),128))]),t("div",Z,[t("div",q,[t("div",G,[t("span",null,e(s.$t("Category"))+":",1),t("span",J,e(o.ticket.category.name),1)]),t("div",K,[t("span",null,e(s.$t("Status"))+":",1),t("span",Q,e(o.ticket.status),1)]),t("div",W,[t("span",null,e(s.$t("Priority"))+":",1),t("span",X,e(o.ticket.priority??s.$t("Not set")),1)]),t("div",Y,[t("span",null,e(s.$t("Date created"))+":",1),t("span",null,e(m(o.ticket.created_at)),1)]),o.ticket.status==="open"||o.ticket.status==="pending"?(l(),d("div",tt,[t("button",{onClick:r[2]||(r[2]=i=>u("closed")),class:"mb-2 rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"},e(s.$t("Close ticket")),1),t("button",{onClick:r[3]||(r[3]=i=>u("resolved")),class:"mb-2 rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"},e(s.$t("Mark as resolved")),1)])):f("",!0)])])])])]),_:1}))}},St=B(et,[["__file","View.vue"]]);export{St as default};
