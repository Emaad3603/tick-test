import{r as c,o as n,e as k,f as U,a as e,j as S,c as b,d as B,F,n as w,b as E,t as l,x as Z,O as I,S as z,T as D,h as _,u as L}from"./app-06066091.js";import{A as R}from"./App-53e90ba2.js";import{M as H}from"./Modal-858f9f8a.js";import{F as q}from"./FormInput-a5364d31.js";import{F as J}from"./FormImage-b4d8860f.js";import{F as K}from"./FormSelect-6c96738a.js";import{l as P}from"./index-2177aed8.js";/* empty css              */import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import{t as N}from"./index-8e47e887.js";import{C as Q,a as W}from"./ContactTable-8b737c07.js";import"./Sidebar-56399b82.js";import"./Menu-32707887.js";import"./ProfileModal-9fa7d7fd.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./transition-9e93c540.js";import"./hidden-94645dc9.js";import"./use-outside-click-6f649936.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./use-resolve-button-type-737f9372.js";import"./LangToggle-4117f8d3.js";import"./OrganizationModal-94b0dd29.js";import"./use-text-value-6338b60a.js";import"./MobileSidebar-c9250509.js";import"./debounce-26497136.js";import"./_baseGetTag-c09aeb4c.js";import"./Dropdown-82fc851d.js";import"./use-tree-walker-26135af6.js";import"./DropdownItem-f7277231.js";import"./Pagination-d90e3b69.js";const X={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},Y={class:"mt-4 flex"},ee=["disabled"],te={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},oe=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),se=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),le=[oe,se],ae={key:1},re={__name:"FormModal",props:{modelValue:Boolean,label:String,url:String,form:Object,formInputs:Array},emits:["update:modelValue","callback"],setup(i,{emit:f}){const a=i,r=c(a.form),d=c(!1),m=c({}),h=async o=>{d.value=!0,m.value={};try{const s=new FormData;Object.keys(r.value).forEach(y=>{const x=r.value[y];Array.isArray(x)?x.forEach(V=>{s.append(y+"[]",V)}):s.append(y,x)});const t=await Z.post(a.url,s,{headers:{"Content-Type":"multipart/form-data"}});t.status===200&&t.data.success?C(t):p(t)}catch(s){u(s)}finally{setTimeout(()=>{d.value=!1},1e3)}},C=o=>{setTimeout(()=>{v(),I.reload(),P(o.data.message,{autoClose:3e3}),g("callback",o.data)},1e3)},p=o=>{setTimeout(()=>{o.data.errors&&(m.value=o.data.errors)},1e3)},u=o=>{setTimeout(()=>{m.value=o.response.data.errors},1e3)},g=f;function v(){g("update:modelValue",!1)}return(o,s)=>(n(),k(H,{label:i.label,isOpen:i.modelValue},{default:U(()=>[e("div",X,[e("form",{onSubmit:s[0]||(s[0]=S(t=>h(),["prevent"])),class:"grid gap-x-6 gap-y-4 sm:grid-cols-6"},[(n(!0),b(F,null,B(i.formInputs,(t,y)=>{var x,V,j,T,A,O;return n(),b(F,{key:y},[t.inputType=="FormInput"?(n(),k(q,{key:0,modelValue:r.value[t.name],"onUpdate:modelValue":$=>r.value[t.name]=$,error:(V=(x=m.value)==null?void 0:x[t.name])==null?void 0:V[0],name:t.label,type:t.type,class:w(t.className)},null,8,["modelValue","onUpdate:modelValue","error","name","type","class"])):t.inputType=="FormSelect"?(n(),k(K,{key:1,modelValue:r.value[t.name],"onUpdate:modelValue":$=>r.value[t.name]=$,error:(T=(j=m.value)==null?void 0:j[t.name])==null?void 0:T[0],options:t.options,name:t.label,class:w(t.className),placeholder:t.placeholder},null,8,["modelValue","onUpdate:modelValue","error","options","name","class","placeholder"])):t.inputType=="FormImage"?(n(),k(J,{key:2,modelValue:r.value[t.name],"onUpdate:modelValue":$=>r.value[t.name]=$,error:(O=(A=m.value)==null?void 0:A[t.name])==null?void 0:O[0],options:t.options,label:t.label,class:w(t.className)},null,8,["modelValue","onUpdate:modelValue","error","options","label","class"])):E("",!0)],64)}),128)),e("div",Y,[e("button",{type:"button",onClick:S(v,["self"]),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},l(o.$t("Cancel")),1),e("button",{class:w(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":d.value}]),disabled:d.value},[d.value?(n(),b("svg",te,le)):(n(),b("span",ae,l(o.$t("Save")),1))],10,ee)])],32)])]),_:1},8,["label","isOpen"]))}},G=M(re,[["__file","FormModal.vue"]]),ne={class:"pt-20"},ie={class:"flex justify-center space-x-8 items-center pb-6 pr-20 border-gray-300 border-b"},de={class:"rounded-full p-1 bg-white"},ue={class:"rounded-full text-3xl flex justify-center items-center h-24 w-24 capitalize"},me={class:"text-3xl"},ce={class:"flex space-x-3 mt-4"},pe={class:"text-[14px]"},fe={class:"text-[14px]"},ve={class:"pr-20 border-gray-300 border-b py-4"},be={class:"grid grid-cols-2 space-x-8 text-[14px]"},he={class:"text-right text-slate-500 pb-2"},ge={class:"text-right text-slate-500 pb-2"},xe={class:"p-1 bg-gray-50 text-xs rounded-lg text-gray-600"},_e={__name:"ContactGroupInfo",props:["group"],setup(i){const f=i,a=c(f.group);z(()=>{a.value=f.group});const r=c(!1),d=c({name:a.value.name}),m=[{inputType:"FormInput",name:"name",label:N("name"),type:"text",className:"sm:col-span-6"}];D({test:null});const h=async()=>{I.visit("/contact-groups",{method:"delete",data:{uuids:[a.value.uuid]},preserveState:!0})},C=()=>{r.value=!0};return(p,u)=>{var g;return n(),b(F,null,[e("div",null,[e("div",ne,[e("div",ie,[e("div",null,[e("div",de,[e("div",ue,l(a.value.name.substring(0,1)),1)])]),e("div",null,[e("h1",me,l(a.value.name),1),e("div",ce,[e("button",{class:"bg-gray-200 py-2 px-4 h-9 rounded-md flex items-center",onClick:u[0]||(u[0]=v=>C())},[e("span",pe,l(p.$t("Edit")),1)]),e("button",{onClick:u[1]||(u[1]=v=>h()),class:"bg-gray-200 py-2 px-4 h-9 rounded-md flex items-center"},[e("span",fe,l(p.$t("Delete")),1)])])])]),e("div",ve,[e("div",be,[e("div",he,[e("span",null,l(p.$t("Group name")),1)]),e("div",null,[e("span",null,l(a.value.name),1)]),e("div",ge,[e("span",null,l(p.$t("Total contacts")),1)]),e("div",null,[e("span",xe,l(a.value.contact_count),1)])])])])]),_(G,{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=v=>r.value=v),label:p.$t("Edit group"),url:"/contact-groups/"+((g=a.value)==null?void 0:g.uuid),form:d.value,formInputs:m},null,8,["modelValue","label","url","form"])],64)}}},ye=M(_e,[["__file","ContactGroupInfo.vue"]]),$e={class:"bg-white md:bg-inherit md:flex md:flex-grow capitalize"},we={class:"px-4 pt-4"},Ce={class:"flex justify-between mt-2"},Ve={class:"flex space-x-1 text-xl"},ke={class:"text-slate-500"},Fe={class:"flex space-x-2 items-center"},Ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},[e("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[e("path",{d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12Zm10-8a8 8 0 1 0 0 16a8 8 0 0 0 0-16Z"}),e("path",{d:"M13 7a1 1 0 1 0-2 0v4H7a1 1 0 1 0 0 2h4v4a1 1 0 1 0 2 0v-4h4a1 1 0 1 0 0-2h-4V7Z"})])],-1),Me=[Ie],je={class:"md:w-[70%] bg-cover md:h-[100vh] flex justify-center overflow-y-scroll"},Te={key:0},Ae={key:1,class:"md:block pt-20 hidden"},Oe={class:"border py-10 w-[30em] rounded-xl bg-white"},Se={class:"text-center text-2xl text-slate-500 mb-6"},Ue=e("div",{class:"flex justify-center"},[e("div",{class:"border-r border-slate-500 h-10"})],-1),Ne={class:"text-center text-slate-600"},Ge=e("div",{class:"flex justify-center"},[e("div",{class:"border-r border-slate-500 h-10"})],-1),Be={class:"flex justify-center space-x-4 mt-6"},Ee={__name:"Group",props:{rows:Object,filters:Object,rowCount:Number,group:Object},setup(i){const f=i,a=c(!1),r=window.location.href,d=c(!1),m=c(r),h=c({name:""}),p=[{inputType:"FormInput",name:"name",label:N("name"),type:"text",className:"sm:col-span-6"}],u=()=>{d.value=!0,h.value.name=""},g=o=>{I.visit("/contact-groups",{method:"get",data:o})},v=o=>{group.value=o.data,h.value.name=o.data.name};return(o,s)=>(n(),b(F,null,[_(R,null,{default:U(()=>[e("div",$e,[e("div",{class:w(["md:w-[30%] md:flex flex-col h-full bg-white border-r border-l",i.group?"hidden":""])},[e("div",we,[e("div",Ce,[e("div",Ve,[e("h2",null,l(o.$t("Groups")),1),e("span",ke,l(f.rowCount),1)]),e("div",Fe,[e("span",{onClick:s[0]||(s[0]=t=>u()),class:"cursor-pointer",title:"Add Contact"},Me)])])]),_(W,{rows:f.rows,filters:f.filters,type:"group",onCallback:g},null,8,["rows","filters"])],2),e("div",je,[i.group?(n(),b("div",Te,[_(ye,{group:i.group},null,8,["group"])])):(n(),b("div",Ae,[e("div",Oe,[e("h2",Se,l(o.$t("Select group")),1),Ue,e("h2",Ne,l(o.$t("Or")),1),Ge,e("div",Be,[e("button",{onClick:s[1]||(s[1]=t=>u()),class:"bg-primary rounded-lg text-sm text-white p-2 px-8 text-center capitalize"},l(o.$t("Add group")),1),e("button",{onClick:s[2]||(s[2]=t=>a.value=!0),class:"bg-primary rounded-lg text-sm text-white p-2 px-8 text-center"},l(o.$t("Bulk upload")),1)])])]))])])]),_:1}),_(G,{modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=t=>d.value=t),label:o.$t("Add group"),url:m.value,form:h.value,formInputs:L(p),onCallback:v},null,8,["modelValue","label","url","form","formInputs"]),_(Q,{type:"group",modelValue:a.value,"onUpdate:modelValue":s[4]||(s[4]=t=>a.value=t)},null,8,["modelValue"])],64))}},gt=M(Ee,[["__file","Group.vue"]]);export{gt as default};
