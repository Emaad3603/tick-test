import{r as x,T as $,e as k,f as C,o as _,a as e,t as l,h as n,u as s,n as m,c as v,j as S}from"./app-06066091.js";import A from"./App-d2aece6e.js";import{F as d}from"./FormInput-a5364d31.js";import{F as B}from"./FormToggleSwitch-ed559e79.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import"./App-3a5d1971.js";import"./Sidebar-53ff02b1.js";import"./Menu-18e4a0b3.js";import"./ProfileModal-9fa7d7fd.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./FormSelect-6c96738a.js";import"./index-8e47e887.js";import"./hidden-94645dc9.js";import"./use-text-value-6338b60a.js";import"./use-outside-click-6f649936.js";import"./use-resolve-button-type-737f9372.js";import"./transition-9e93c540.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./LangToggle-4117f8d3.js";import"./MobileSidebar-c90c1661.js";import"./index-2177aed8.js";/* empty css              */import"./Sidebar-86915732.js";const Z={class:"text-xl mb-1"},j={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},F=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),M={class:"ml-1 mt-1"},T={class:"space-y-12"},N={class:"pb-12"},z={class:"pt-5"},D={class:"flex gap-x-10 md:w-2/3 pb-6 border-b mb-4"},E={class:"w-[80%]"},L={class:"text-xs text-slate-700 flex items-center"},O={class:"w-[20%]"},q={class:"grid gap-3 grid-cols-2 pb-6 md:w-2/3 border-b mb-4"},I={class:"col-span-2 text-xs"},J={class:"mb-4"},K={class:"text-base text-gray-900"},P={class:"text-sm leading-6 mb-5"},R={class:"bg-orange-100 p-2 rounded-md shadow-sm md:w-2/3 mb-4 flex items-center gap-x-1"},G=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),H={class:"text-sm leading-6"},Q={class:"grid gap-3 grid-cols-2 pb-6 border-b md:w-2/3"},W={class:"mt-6 flex items-center justify-end gap-x-6 md:w-2/3"},X={type:"button",class:"text-sm leading-6 text-gray-900"},Y=["disabled"],ee={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},te=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),se=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),oe=[te,se],re={key:1},ie={__name:"Subscription",props:{config:{type:Object,required:!0}},setup(y){const w=y,p=r=>{const o=w.config.find(u=>u.key===r);return o?o.value:""},i=p("trial_limits")?JSON.parse(p("trial_limits")):{},c=x(!1),t=$({enable_custom_payment:p("enable_custom_payment")==1||p("enable_custom_payment")=="",trial_period:p("trial_period"),trial_limits:{users:(i==null?void 0:i.users)??"-1",messages:(i==null?void 0:i.messages)??"-1",contacts:(i==null?void 0:i.contacts)??"-1",campaigns:(i==null?void 0:i.campaigns)??"-1",automated_replies:(i==null?void 0:i.automated_replies)??"-1"}}),V=async()=>{t.put("/admin/settings?type=subscription",{preserveScroll:!0})};return(r,o)=>(_(),k(A,null,{default:C(()=>{var u,g,b,h,f;return[e("div",null,[e("h2",Z,l(r.$t("Subscription settings")),1),e("p",j,[F,e("span",M,l(r.$t("Configure how your subscriptions are set")),1)])]),e("form",{onSubmit:o[7]||(o[7]=S(a=>V(),["prevent"]))},[e("div",T,[e("div",N,[e("div",z,[e("div",D,[e("div",E,[e("span",null,l(r.$t("Enable custom payment amounts")),1),e("div",L,[e("span",null,l(r.$t("Allow users to make custom payments that can be applied to their subscription fees automatically.")),1)])]),e("div",O,[n(B,{modelValue:s(t).enable_custom_payment,"onUpdate:modelValue":o[0]||(o[0]=a=>s(t).enable_custom_payment=a),class:"float-right"},null,8,["modelValue"])])])]),e("div",q,[n(d,{modelValue:s(t).trial_period,"onUpdate:modelValue":o[1]||(o[1]=a=>s(t).trial_period=a),name:r.$t("Trial period (in days)"),error:s(t).errors.trial_period,type:"number",class:m("col-span-2")},null,8,["modelValue","name","error"]),e("span",I,l(r.$t("Please note that if you put zero then the user will be prompted to first subscribe before using the app")),1)]),e("div",J,[e("h2",K,l(r.$t("Trial period limits")),1),e("p",P,l(r.$t("Define the usage limits during the trial period")),1)]),e("div",R,[G,e("p",H,l(r.$t("For unlimited usage, set -1 as the value")),1)]),e("div",Q,[n(d,{modelValue:s(t).trial_limits.messages,"onUpdate:modelValue":o[2]||(o[2]=a=>s(t).trial_limits.messages=a),name:r.$t("Message limit"),error:(u=s(t).errors)==null?void 0:u["trial_limits.messages"],type:"number",class:m("col-span-1")},null,8,["modelValue","name","error"]),n(d,{modelValue:s(t).trial_limits.campaigns,"onUpdate:modelValue":o[3]||(o[3]=a=>s(t).trial_limits.campaigns=a),name:r.$t("Campaign limit"),error:(g=s(t).errors)==null?void 0:g["trial_limits.campaigns"],type:"number",class:m("col-span-1")},null,8,["modelValue","name","error"]),n(d,{modelValue:s(t).trial_limits.contacts,"onUpdate:modelValue":o[4]||(o[4]=a=>s(t).trial_limits.contacts=a),name:r.$t("Contacts limit"),error:(b=s(t).errors)==null?void 0:b["trial_limits.contacts"],type:"number",class:m("col-span-1")},null,8,["modelValue","name","error"]),n(d,{modelValue:s(t).trial_limits.automated_replies,"onUpdate:modelValue":o[5]||(o[5]=a=>s(t).trial_limits.automated_replies=a),name:r.$t("Automated Replies limit"),error:(h=s(t).errors)==null?void 0:h["trial_limits.automated_replies"],type:"number",class:m("col-span-1")},null,8,["modelValue","name","error"]),n(d,{modelValue:s(t).trial_limits.users,"onUpdate:modelValue":o[6]||(o[6]=a=>s(t).trial_limits.users=a),name:r.$t("User limit"),error:(f=s(t).errors)==null?void 0:f["trial_limits.users"],type:"number",class:m("col-span-1")},null,8,["modelValue","name","error"])]),e("div",W,[e("button",X,l(r.$t("Cancel")),1),e("button",{class:m(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":c.value}]),disabled:c.value},[c.value?(_(),v("svg",ee,oe)):(_(),v("span",re,l(r.$t("Save")),1))],10,Y)])])])],32)]}),_:1}))}},Ze=U(ie,[["__file","Subscription.vue"]]);export{Ze as default};
