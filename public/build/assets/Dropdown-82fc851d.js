import{D as P,r as h,m as S,V as B,q as L,R as K,S as V,H as R,W as j,o as U,e as q,f as x,a as H,h as D,u as _,J as E,Z as z,n as J}from"./app-06066091.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";import{w as W,h as Z,o as f,u as Y,H as k,t as O,b as $,d as c,v as G,N as A,_ as C,O as X}from"./hidden-94645dc9.js";import{p as ee,u as te,x as ae,a as y}from"./use-text-value-6338b60a.js";import{p as ne}from"./use-tree-walker-26135af6.js";import{y as oe,c as le,l as w,p as re}from"./use-outside-click-6f649936.js";import{b as ue}from"./use-resolve-button-type-737f9372.js";var se=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(se||{}),ie=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(ie||{});function ce(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let N=Symbol("MenuContext");function T(a){let d=j(N,null);if(d===null){let m=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(m,T),m}return d}let de=P({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:d,attrs:m}){let g=h(1),e=h(null),p=h(null),s=h([]),I=h(""),i=h(null),l=h(1);function t(o=r=>r){let r=i.value!==null?s.value[i.value]:null,u=X(o(s.value.slice()),b=>f(b.dataRef.domRef)),n=r?u.indexOf(r):null;return n===-1&&(n=null),{items:u,activeItemIndex:n}}let v={menuState:g,buttonRef:e,itemsRef:p,items:s,searchQuery:I,activeItemIndex:i,activationTrigger:l,closeMenu:()=>{g.value=1,i.value=null},openMenu:()=>g.value=0,goToItem(o,r,u){let n=t(),b=ae(o===y.Specific?{focus:y.Specific,id:r}:{focus:o},{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:M=>M.id,resolveDisabled:M=>M.dataRef.disabled});I.value="",i.value=b,l.value=u??1,s.value=n.items},search(o){let r=I.value!==""?0:1;I.value+=o.toLowerCase();let u=(i.value!==null?s.value.slice(i.value+r).concat(s.value.slice(0,i.value+r)):s.value).find(b=>b.dataRef.textValue.startsWith(I.value)&&!b.dataRef.disabled),n=u?s.value.indexOf(u):-1;n===-1||n===i.value||(i.value=n,l.value=1)},clearSearch(){I.value=""},registerItem(o,r){let u=t(n=>[...n,{id:o,dataRef:r}]);s.value=u.items,i.value=u.activeItemIndex,l.value=1},unregisterItem(o){let r=t(u=>{let n=u.findIndex(b=>b.id===o);return n!==-1&&u.splice(n,1),u});s.value=r.items,i.value=r.activeItemIndex,l.value=1}};return oe([e,p],(o,r)=>{var u;v.closeMenu(),W(r,Z.Loose)||(o.preventDefault(),(u=f(e))==null||u.focus())},S(()=>g.value===0)),B(N,v),le(S(()=>Y(g.value,{0:w.Open,1:w.Closed}))),()=>{let o={open:g.value===0,close:v.closeMenu};return k({ourProps:{},theirProps:a,slot:o,slots:d,attrs:m,name:"Menu"})}}}),pe=P({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${O()}`}},setup(a,{attrs:d,slots:m,expose:g}){let e=T("MenuButton");g({el:e.buttonRef,$el:e.buttonRef});function p(l){switch(l.key){case c.Space:case c.Enter:case c.ArrowDown:l.preventDefault(),l.stopPropagation(),e.openMenu(),R(()=>{var t;(t=f(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(y.First)});break;case c.ArrowUp:l.preventDefault(),l.stopPropagation(),e.openMenu(),R(()=>{var t;(t=f(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(y.Last)});break}}function s(l){switch(l.key){case c.Space:l.preventDefault();break}}function I(l){a.disabled||(e.menuState.value===0?(e.closeMenu(),R(()=>{var t;return(t=f(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(l.preventDefault(),e.openMenu(),ce(()=>{var t;return(t=f(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let i=ue(S(()=>({as:a.as,type:d.type})),e.buttonRef);return()=>{var l;let t={open:e.menuState.value===0},{id:v,...o}=a,r={ref:e.buttonRef,id:v,type:i.value,"aria-haspopup":"menu","aria-controls":(l=f(e.itemsRef))==null?void 0:l.id,"aria-expanded":e.menuState.value===0,onKeydown:p,onKeyup:s,onClick:I};return k({ourProps:r,theirProps:o,slot:t,attrs:d,slots:m,name:"MenuButton"})}}}),ve=P({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${O()}`}},setup(a,{attrs:d,slots:m,expose:g}){let e=T("MenuItems"),p=h(null);g({el:e.itemsRef,$el:e.itemsRef}),ne({container:S(()=>f(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function s(t){var v;switch(p.value&&clearTimeout(p.value),t.key){case c.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case c.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let o=e.items.value[e.activeItemIndex.value];(v=f(o.dataRef.domRef))==null||v.click()}e.closeMenu(),C(f(e.buttonRef));break;case c.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(y.Next);case c.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(y.Previous);case c.Home:case c.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(y.First);case c.End:case c.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(y.Last);case c.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>{var o;return(o=f(e.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case c.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>G(f(e.buttonRef),t.shiftKey?A.Previous:A.Next));break;default:t.key.length===1&&(e.search(t.key),p.value=setTimeout(()=>e.clearSearch(),350));break}}function I(t){switch(t.key){case c.Space:t.preventDefault();break}}let i=re(),l=S(()=>i!==null?(i.value&w.Open)===w.Open:e.menuState.value===0);return()=>{var t,v;let o={open:e.menuState.value===0},{id:r,...u}=a,n={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(v=f(e.buttonRef))==null?void 0:v.id,id:r,onKeydown:s,onKeyup:I,role:"menu",tabIndex:0,ref:e.itemsRef};return k({ourProps:n,theirProps:u,slot:o,attrs:d,slots:m,features:$.RenderStrategy|$.Static,visible:l.value,name:"MenuItems"})}}}),Re=P({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${O()}`}},setup(a,{slots:d,attrs:m,expose:g}){let e=T("MenuItem"),p=h(null);g({el:p,$el:p});let s=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===a.id:!1),I=ee(p),i=S(()=>({disabled:a.disabled,get textValue(){return I()},domRef:p}));L(()=>e.registerItem(a.id,i)),K(()=>e.unregisterItem(a.id)),V(()=>{e.menuState.value===0&&s.value&&e.activationTrigger.value!==0&&R(()=>{var n,b;return(b=(n=f(p))==null?void 0:n.scrollIntoView)==null?void 0:b.call(n,{block:"nearest"})})});function l(n){if(a.disabled)return n.preventDefault();e.closeMenu(),C(f(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(y.Nothing);e.goToItem(y.Specific,a.id)}let v=te();function o(n){v.update(n)}function r(n){v.wasMoved(n)&&(a.disabled||s.value||e.goToItem(y.Specific,a.id,0))}function u(n){v.wasMoved(n)&&(a.disabled||s.value&&e.goToItem(y.Nothing))}return()=>{let{disabled:n}=a,b={active:s.value,disabled:n,close:e.closeMenu},{id:M,...F}=a;return k({ourProps:{id:M,ref:p,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:l,onFocus:t,onPointerenter:o,onMouseenter:o,onPointermove:r,onMousemove:r,onPointerleave:u,onMouseleave:u},theirProps:{...m,...F},slot:b,attrs:m,slots:d,name:"MenuItem"})}}});const fe={__name:"Dropdown",props:{align:{type:String,default:"right"}},setup(a){const d=a;return(m,g)=>(U(),q(_(de),{as:"div",class:"relative inline-block text-left"},{default:x(()=>[H("div",null,[D(_(pe),{as:"template"},{default:x(()=>[E(m.$slots,"default")]),_:3})]),D(z,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:x(()=>[D(_(ve),{class:J([{"right-0 origin-top-right":d.align==="right","left-0 origin-top-left":d.align==="left","top-[-135px] left-0 origin-top-left":d.align==="top-left"},"z-10 absolute mt-2 w-32 divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"])},{default:x(()=>[E(m.$slots,"items")]),_:3},8,["class"])]),_:3})]),_:3}))}},Me=Q(fe,[["__file","Dropdown.vue"]]);export{Me as D,Re as y};
