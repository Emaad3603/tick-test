import{T as N,r as c,m as ee,o as f,c as y,a as e,h as n,f as u,g as A,t as r,b as I,u as i,k as te,F as oe,G as se,e as E,n as p,j as H,x as le}from"./app-06066091.js";import ae from"./Layout-711a388b.js";import{t as l}from"./index-8e47e887.js";import{d as P}from"./vuedraggable.umd-f11872e4.js";import{M as ie}from"./Modal-858f9f8a.js";import{F as z}from"./FormInput-a5364d31.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{F as D}from"./FormSelect-6c96738a.js";import{A as ne}from"./AlertModal-04f87487.js";import{u as re}from"./useAlertModal-20c1d6c7.js";import{P as de}from"./Pagination-d90e3b69.js";import{a as ue,b as S,T as me}from"./TableHeaderRowItem-58f056c6.js";import{D as ce}from"./Dropdown-82fc851d.js";import{D as pe,a as Z}from"./DropdownItem-f7277231.js";import"./App-53e90ba2.js";import"./Sidebar-56399b82.js";import"./Menu-32707887.js";import"./ProfileModal-9fa7d7fd.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./transition-9e93c540.js";import"./hidden-94645dc9.js";import"./use-outside-click-6f649936.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./use-resolve-button-type-737f9372.js";import"./LangToggle-4117f8d3.js";import"./OrganizationModal-94b0dd29.js";import"./use-text-value-6338b60a.js";import"./index-2177aed8.js";import"./MobileSidebar-c9250509.js";/* empty css              */import"./use-tree-walker-26135af6.js";const fe={class:"bg-slate-100 md:bg-slate-50 rounded-[0.5rem]"},ve={class:"w-full"},he={class:"hover:bg-slate-50 md:border-b-0 md:border-t border-[#d1d5db] text-sm"},be={class:"pl-4 py-4"},ge={class:"flex"},_e=e("div",{class:"handle cursor-pointer mr-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M9 19.23q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m6 0q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m-6-6q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m6 0q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m-6-6q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m6 0q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36"})])],-1),we={class:"pl-2 py-2 pb-2 capitalize"},ye={class:"mr-2"},xe={key:0,class:"bg-slate-200 px-2 py-1 rounded-lg text-xs capitalize"},qe={class:"pl-2 py-2 pb-2 capitalize"},$e={class:"pr-4 float-right"},Ce=e("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[e("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1),ke={__name:"ContactFieldTable",props:{rows:{type:Object,required:!0}},emits:["edit","delete"],setup($,{emit:C}){const v=$,{isOpenAlert:g,openAlert:_,confirmAlert:k}=re(),F=C,h=N({test:null});function b(a){F("edit",a)}const x=a=>{h.delete("/contact-fields/"+a)};v.rows.data;const q=c(!1);ee(()=>q.value?"under drag":"");const t=a=>a.charAt(0).toUpperCase()+a.slice(1);return(a,w)=>(f(),y(oe,null,[e("div",null,[e("div",fe,[e("table",ve,[n(me,null,{default:u(()=>[n(ue,null,{default:u(()=>[n(S,{position:"first",class:"pl-2 py-2 pb-2"},{default:u(()=>[A(r(a.$t("Input field name")),1)]),_:1}),n(S,{class:"pl-2 py-2 pb-2"},{default:u(()=>[A(r(a.$t("Input type")),1)]),_:1}),n(S,{class:"pl-2 py-2 pb-2"},{default:u(()=>[A(r(a.$t("Is required")),1)]),_:1}),n(S,{position:"last",class:"pl-2 py-2 pb-2"})]),_:1})]),_:1}),n(i(P),{tag:"tbody",list:$.rows.data,handle:".handle",clone:!1,"item-key":"id"},{item:u(({element:m,index:B})=>[e("tr",he,[e("td",be,[e("div",ge,[_e,e("div",null,r(m.name),1)])]),e("td",we,[e("span",ye,r(a.$t(t(m.type))),1),m.type==="input"?(f(),y("span",xe,r(a.$t(t(m.value))),1)):I("",!0)]),e("td",qe,r(m.required===0?a.$t("No"):a.$t("Yes")),1),e("td",$e,[n(ce,{align:"right",class:"mt-2"},{items:u(()=>[n(pe,null,{default:u(()=>[n(Z,{as:"button",onClick:M=>b(m.uuid)},{default:u(()=>[A(r(a.$t("Edit")),1)]),_:2},1032,["onClick"]),n(Z,{as:"button",onClick:M=>i(_)(m.uuid)},{default:u(()=>[A(r(a.$t("Delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:u(()=>[Ce]),_:2},1024)])])]),_:1},8,["list"])])]),n(de,{class:"mt-3",pagination:$.rows.meta},null,8,["pagination"])]),n(ne,{modelValue:i(g),"onUpdate:modelValue":w[0]||(w[0]=m=>te(g)?g.value=m:null),onConfirm:w[1]||(w[1]=()=>i(k)(x)),label:a.$t("Delete row"),description:a.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},Ve=G(ke,[["__file","ContactFieldTable.vue"]]),Ae={class:"md:h-[90vh]"},Fe={class:"flex justify-center items-center"},Te={class:"md:w-[60em]"},Se={class:"bg-white border border-slate-200 rounded-lg pt-2 text-sm mb-4 px-4 mb-20"},Me={class:"w-full py-2 mb-4 mt-2"},De={class:"flex w-full"},Ne={class:"text-md"},Ie={class:"text-[16px]"},Be={class:"mb-1 text-slate-500"},Ue={class:"ml-auto"},Oe={class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4 pb-4 px-4 mb-20"},je={class:"w-full py-2 mb-2 mt-2"},Le={class:"flex w-full mb-4"},Re={class:"text-md"},Ee={class:"text-[16px]"},He={class:"flex items-center mt-1 text-slate-500"},ze={class:"ml-auto"},Ze={class:"w-5/5"},Pe={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},Ge={class:"grid grid-cols gap-y-4"},Je={key:1,class:p("col-span-6 mt-2")},Ye={class:"flex pb-2"},Ke={class:"text-sm"},Qe={class:"col-1 ml-auto"},We={class:"bg-slate-100 rounded-lg p-2"},Xe={class:"flex items-center w-full space-x-4"},et=e("span",{class:"handle"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M9 19.23q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m6 0q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m-6-6q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m6 0q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m-6-6q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36m6 0q-.508 0-.87-.36q-.36-.362-.36-.87t.36-.87t.87-.36t.87.36q.36.362.36.87t-.36.87t-.87.36"})])],-1),tt=["onClick"],ot=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"m20 9l-1.995 11.346A2 2 0 0 1 16.035 22h-8.07a2 2 0 0 1-1.97-1.654L4 9m17-3h-5.625M3 6h5.625m0 0V4a2 2 0 0 1 2-2h2.75a2 2 0 0 1 2 2v2m-6.75 0h6.75"})],-1),st=[ot],lt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 17h7m5-1h3m0 0h3m-3 0v3m0-3v-3M3 12h11M3 7h11"})],-1),at=[lt],it={class:"text-sm"},nt={class:"mt-4 flex"},rt=["disabled"],dt={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},ut=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),mt=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),ct=[ut,mt],pt={key:1},ft={__name:"Contact",props:["rows","filters","settings","modules"],setup($){var O,j,L,R;const C=$,v=c(!1),g=c("Add Contact Field"),_=c("/contact-fields"),k=c("post"),F=c(C.settings.metadata),h=c(F.value?JSON.parse(F.value):null),b=c(!1),x=c((j=(O=h==null?void 0:h.value)==null?void 0:O.contacts)!=null&&j.location?(R=(L=h==null?void 0:h.value)==null?void 0:L.contacts)==null?void 0:R.location:null);let q=0;const t=N({name:null,component:null,type:null,required:0,options:[{value:"",id:0}]}),a=N({location:null}),w=(s,o={})=>{g.value=l("Add contact field"),_.value="/contact-fields",k.value="post",s!=null?(g.value=l("Edit contact field"),_.value="/contact-fields/"+s,k.value="put",m()):(q=0,t.name=null,t.type=null,t.options=[{value:"",id:0}],v.value=!0)};function m(){le.get(_.value).then(s=>{const{data:o}=s;if(console.log(o.item),o.item.type==="select"){t.name=o.item.name,t.component=o.item.type,t.required=o.item.required;const V=o.item.value.split(", ").map((T,X)=>({id:X,value:T}));q=V.length-1,t.options=V}else o.item.type==="input"?(t.name=o.item.name,t.component=o.item.type,t.type=o.item.value,t.required=o.item.required):(t.name=o.item.name,t.component=o.item.type,t.required=o.item.required);v.value=!0}).catch(s=>{})}l("Name"),l("Type"),l("Text"),l("Number"),l("Email"),l("URL"),l("Date"),l("Time"),l("Date & Time Local");const B=[{label:l("Text"),value:"text"},{label:l("Number"),value:"number"},{label:l("Email"),value:"email"},{label:l("URL"),value:"url"},{label:l("Date"),value:"date"},{label:l("Time"),value:"time"},{label:l("Date & time"),value:"datetime-local"}],M=[{label:l("Input"),value:"input"},{label:l("Select box"),value:"select"},{label:l("Text area"),value:"textarea"},{label:l("Checkbox"),value:"checkbox"}],J=[{label:l("Before address"),value:"before"},{label:l("After address"),value:"after"}],Y=()=>{t.required=t.required===0?1:0};c(!1);const K=s=>{t.options.splice(s,1)},U=()=>{q++,t.options.push({id:q,value:""})},Q=async()=>{b.value=!0,k.value=="post"?t.post(_.value,{preserveScroll:!0,onFinish:()=>{b.value=!1},onSuccess:()=>{v.value=!1}}):t.put(_.value,{preserveScroll:!0,onFinish:()=>{b.value=!1},onSuccess:()=>{v.value=!1}})};se(x,(s,o)=>{s!==o&&(a.location=x,W())});const W=async()=>{a.post("/settings/contacts",{preserveScroll:!0})};return(s,o)=>(f(),E(ae,{modules:C.modules},{default:u(()=>[e("div",Ae,[e("div",Fe,[e("div",Te,[e("div",Se,[e("div",Me,[e("div",De,[e("div",Ne,[e("h4",Ie,r(s.$t("Contact fields location")),1),e("div",Be,r(s.$t("Place custom fields before or after the address section")),1)]),e("div",Ue,[n(D,{modelValue:x.value,"onUpdate:modelValue":o[0]||(o[0]=d=>x.value=d),options:J,name:"",error:i(a).errors.location,class:p("col-span-6"),placeholder:"Select Here"},null,8,["modelValue","error"])])])])]),e("div",Oe,[e("div",je,[e("div",Le,[e("div",Re,[e("h4",Ee,r(s.$t("Custom contact fields")),1),e("span",He,r(s.$t("Create custom input fields for the contacts section")),1)]),e("div",ze,[e("button",{onClick:o[1]||(o[1]=d=>w()),class:"float-right rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},r(s.$t("Add fields")),1)])]),e("div",Ze,[n(Ve,{rows:C.rows,onEdit:w,onDelete:s.openAlert},null,8,["rows","onDelete"])])])])])])]),n(ie,{label:g.value,isOpen:v.value},{default:u(()=>[e("div",Pe,[e("form",{onSubmit:o[7]||(o[7]=H(d=>Q(),["prevent"])),class:"gap-y-4"},[e("div",Ge,[n(z,{modelValue:i(t).name,"onUpdate:modelValue":o[2]||(o[2]=d=>i(t).name=d),name:s.$t("Label"),error:i(t).errors.name,type:"text",class:p("col-span-6")},null,8,["modelValue","name","error"]),n(D,{modelValue:i(t).component,"onUpdate:modelValue":o[3]||(o[3]=d=>i(t).component=d),options:M,name:s.$t("Form component"),error:i(t).errors.component,class:p("col-span-6"),optionClassName:"h-[8em]",placeholder:"Select Here"},null,8,["modelValue","name","error"]),i(t).component==="input"?(f(),E(D,{key:0,modelValue:i(t).type,"onUpdate:modelValue":o[4]||(o[4]=d=>i(t).type=d),options:B,name:s.$t("Input type"),error:i(t).errors.type,class:p("col-span-6"),optionClassName:"h-[8em]",placeholder:"Select Here"},null,8,["modelValue","name","error"])):I("",!0),i(t).component==="select"?(f(),y("div",Je,[e("div",Ye,[e("span",Ke,r(s.$t("Select options")),1),e("div",Qe,[e("button",{class:"btn bg-primary text-xs text-white px-2 rounded-md py-1",onClick:U},r(s.$t("Add option")),1)])]),e("div",We,[n(i(P),{tag:"div",list:i(t).options,class:"mt-2 w-full",handle:".handle","item-key":"id"},{item:u(({element:d,index:V})=>[e("div",Xe,[et,n(z,{modelValue:d.value,"onUpdate:modelValue":T=>d.value=T,name:"",type:"text",class:p("w-full py-2"),required:!0},null,8,["modelValue","onUpdate:modelValue"]),V!=0?(f(),y("span",{key:0,onClick:T=>K(V),class:"cursor-pointer hover:bg-red-600 hover:text-white p-1 rounded-full"},st,8,tt)):(f(),y("span",{key:1,onClick:U,class:"cursor-pointer hover:bg-primary hover:text-white p-1 rounded-full"},at))])]),_:1},8,["list"])])])):I("",!0),e("div",{class:p(["flex space-x-4 py-3","col-span-6"])},[e("span",it,r(s.$t("Is required")),1),e("div",{class:p(["w-12 h-6 flex items-center bg-gray-300 rounded-full p-1",{"bg-primary":i(t).required!=0}]),onClick:o[5]||(o[5]=d=>Y())},[e("div",{class:p(["bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out",{"translate-x-6":i(t).required!=0}])},null,2)],2)])]),e("div",nt,[e("button",{type:"button",onClick:o[6]||(o[6]=H(d=>v.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},r(s.$t("Cancel")),1),e("button",{class:p(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":b.value}]),disabled:b.value},[b.value?(f(),y("svg",dt,ct)):(f(),y("span",pt,r(s.$t("Save")),1))],10,rt)])],32)])]),_:1},8,["label","isOpen"])]),_:1},8,["modules"]))}},Jt=G(ft,[["__file","Contact.vue"]]);export{Jt as default};
