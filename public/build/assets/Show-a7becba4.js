import{r as y,T as I,c as g,h as d,f as x,F as ee,o as u,a as t,t as r,u as e,i as J,g as z,b as f,n as a,j as R,e as Y}from"./app-06066091.js";import te from"./App-3a5d1971.js";import{F as c}from"./FormInput-a5364d31.js";import{F as oe}from"./FormPhoneInput-8d88435b.js";import{F as _}from"./FormSelect-6c96738a.js";import{B as se}from"./BillingTable-92856e78.js";import{M as le}from"./Modal-858f9f8a.js";import{U as ne}from"./UserTable-618cf22d.js";import{t as h}from"./index-8e47e887.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";import"./Sidebar-53ff02b1.js";import"./Menu-18e4a0b3.js";import"./ProfileModal-9fa7d7fd.js";import"./transition-9e93c540.js";import"./hidden-94645dc9.js";import"./use-outside-click-6f649936.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./use-resolve-button-type-737f9372.js";import"./LangToggle-4117f8d3.js";import"./MobileSidebar-c90c1661.js";import"./index-2177aed8.js";/* empty css              *//* empty css                      */import"./use-text-value-6338b60a.js";import"./debounce-26497136.js";import"./_baseGetTag-c09aeb4c.js";import"./Table-593fb9c4.js";import"./Pagination-d90e3b69.js";import"./TableHeaderRowItem-58f056c6.js";import"./TableBodyRowItem-f7a16ee1.js";import"./AlertModal-04f87487.js";import"./useAlertModal-20c1d6c7.js";import"./Dropdown-82fc851d.js";import"./use-tree-walker-26135af6.js";import"./DropdownItem-f7277231.js";const re={class:"bg-white md:bg-inherit pt-0 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full overflow-y-scroll"},ae={key:0,class:"md:flex justify-between hidden"},de={class:"text-xl mb-1"},me={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},ue=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),pe={class:"ml-1 mt-1"},ce={key:1,class:"flex justify-between"},ge={class:"flex items-center space-x-2 mb-8 mt-8 md:mt-0"},fe=t("div",{class:"rounded-full p-1"},[t("div",{class:"rounded-full w-32 h-32 bg-slate-200 flex justify-center items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 24 24"},[t("g",{fill:"none","fill-rule":"evenodd"},[t("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),t("path",{fill:"currentColor",d:"M17 3.722v5.497l2.864.716A1.5 1.5 0 0 1 21 11.39V19a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2v-7.69a1.5 1.5 0 0 1 .83-1.343L7 8.382V6.347a1.5 1.5 0 0 1 .973-1.405l7-2.625A1.5 1.5 0 0 1 17 3.722Zm-2 .721l-6 2.25V19h6V4.443Zm2 6.838V19h2v-7.22l-2-.5Zm-10-.663l-2 1V19h2v-8.382Z"})])])])],-1),ve={class:"text-lg"},be={class:"text-sm"},ye={key:0,class:"bg-[#000] text-white text-xs py-1 px-2 rounded-md"},he={class:"text-sm capitalize"},we={class:"flex space-x-4"},xe={key:2,class:"flex border-b space-x-4 text-sm"},Ve={key:3,class:"pt-5"},$e={key:4,class:"pt-5"},ke={class:"sm:flex border-b py-5"},ze={class:"hidden sm:block sm:w-[40%] mb-1"},_e={class:"text-sm tracking-[0px]"},Ce={class:"sm:w-[60%] sm:flex space-x-6"},Ue={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Se={key:0,class:"sm:flex border-b py-5"},Be={class:"hidden sm:block sm:w-[40%] mb-1"},Ae={class:"text-sm tracking-[0px]"},Me={class:"text-sm text-gray-500"},Ze={class:"sm:w-[60%]"},je={class:"sm:w-[80%] flex justify-between bg-primary rounded-[5px] p-1 space-x-2 mb-4 text-white"},Fe={key:0,class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Oe={key:1,class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Te={class:"sm:flex py-5"},Ne={class:"hidden sm:block w-[40%] mb-1"},De={class:"text-sm tracking-[0px]"},Pe={class:"sm:w-[60%] sm:flex space-x-6"},Ee={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Le={class:"py-6"},He={type:"submit",class:"float-right flex items-center space-x-4 rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm hover:bg-slate-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},Ie={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},Je={class:"grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6 sm:col-span-4"},Re={class:"bg-red-800 py-1 px-2 rounded-[5px] mt-6"},Ye={class:"text-[12px] flex items-center space-x-2 text-white"},qe=t("svg",{class:"text-white",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},[t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625zM10 5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 10 5m0 9a1 1 0 1 0 0-2a1 1 0 0 0 0 2","clip-rule":"evenodd"})],-1),Ge={class:"mt-6 flex"},Ke=["disabled"],Qe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},We=t("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Xe=t("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[t("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),et=[We,Xe],tt={key:1},ot={__name:"Show",props:{showAddBtn:{type:Boolean,default:!0},title:String,organization:Object,users:Object,invoices:Object,plans:Object,filters:Object,mode:String},setup(q){var U,S,B,A,M,Z,j,F,O,T;const i=q,v=y("organization"),b=(l,o)=>{if(l){const m=JSON.parse(l);return(m==null?void 0:m[o])??null}else return null},s=I({name:(U=i.organization)==null?void 0:U.name,plan:(A=(B=(S=i.organization)==null?void 0:S.subscription)==null?void 0:B.plan)==null?void 0:A.uuid,create_user:1,first_name:null,last_name:null,email:null,phone:null,password:null,password_confirmation:null,street:b((M=i.organization)==null?void 0:M.address,"street"),city:b((Z=i.organization)==null?void 0:Z.address,"city"),state:b((j=i.organization)==null?void 0:j.address,"state"),zip:b((F=i.organization)==null?void 0:F.address,"zip"),country:b((O=i.organization)==null?void 0:O.address,"country")}),G=y([{value:"credit",label:h("Credit")},{value:"debit",label:h("Debit")},{value:"payment",label:h("Payment")}]),K=y([{value:"manual",label:h("Manual")},{value:"bank",label:h("Bank")}]),p=I({uuid:(T=i.organization)==null?void 0:T.uuid,type:null,amount:null,method:null,description:null}),Q=()=>i.plans.map(l=>({value:l.uuid,label:l.name})),V=y(!1),$=y(!1),w=l=>{v.value=l},C=l=>{s.create_user=l,l===0?(s.first_name=null,s.last_name=null,s.email=null,s.phone=null,s.password=null,s.password_confirmation=null):s.email=null},W=async()=>{const l=i.organization?window.location.pathname:"/admin/organizations";s[i.organization?"put":"post"](l,{preserveScroll:!0})},k=()=>{V.value=!V.value},X=async()=>{p.post("/admin/billing",{preserveScroll:!0,onSuccess:()=>{k(),w("billing")}})};return(l,o)=>(u(),g(ee,null,[d(te,null,{default:x(()=>{var m,N,D,P,E,L,H;return[t("div",re,[i.organization===null?(u(),g("div",ae,[t("div",null,[t("h1",de,r(l.$t("Create organization")),1),t("p",me,[ue,t("span",pe,r(l.$t("Create organization")),1)])]),t("div",null,[d(e(J),{href:"/admin/organizations",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:x(()=>[z(r(l.$t("Back")),1)]),_:1})])])):f("",!0),i.organization?(u(),g("div",ce,[t("div",ge,[fe,t("div",null,[t("h1",ve,r(i.organization.name),1),t("h2",be,[z(r(l.$t("Subscription plan"))+": "+r(((D=(N=(m=i.organization)==null?void 0:m.subscription)==null?void 0:N.plan)==null?void 0:D.name)??"Not set")+" ",1),((E=(P=i.organization)==null?void 0:P.subscription)==null?void 0:E.status)==="trial"?(u(),g("span",ye,r(l.$t("Trial period")),1)):f("",!0)]),t("h2",he,r(l.$t("Valid until"))+": "+r(((H=(L=i.organization)==null?void 0:L.subscription)==null?void 0:H.valid_until)??"Not set"),1)])]),t("div",we,[t("div",null,[t("button",{type:"button",onClick:o[0]||(o[0]=n=>k()),class:"rounded-md bg-indigo-600 px-3 h-9 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},r(l.$t("Create transaction")),1)]),d(e(J),{href:"/admin/organizations",class:"rounded-md h-9 bg-black px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:x(()=>[z(r(l.$t("Back")),1)]),_:1})])])):f("",!0),i.organization?(u(),g("div",xe,[t("div",{onClick:o[1]||(o[1]=n=>w("organization")),class:a(["cursor-pointer px-2 py-2",v.value==="organization"?"bg-white":""])},r(l.$t("User details")),3),t("div",{onClick:o[2]||(o[2]=n=>w("team")),class:a(["cursor-pointer px-2 py-2",v.value==="team"?"bg-white":""])},r(l.$t("Team")),3),t("div",{onClick:o[3]||(o[3]=n=>w("billing")),class:a(["cursor-pointer px-2 py-2",v.value==="billing"?"bg-white":""])},r(l.$t("Billing history")),3)])):f("",!0),i.organization&&v.value==="team"?(u(),g("div",Ve,[d(ne,{rows:i.users,filters:i.filters,type:"user",showRole:!0,showDeleteBtn:!1},null,8,["rows","filters"])])):f("",!0),i.organization&&v.value==="billing"?(u(),g("div",$e,[d(se,{rows:i.invoices,filters:i.filters,uuid:i.organization.uuid},null,8,["rows","filters","uuid"])])):f("",!0),v.value==="organization"?(u(),g("form",{key:5,onSubmit:o[20]||(o[20]=R(n=>W(),["prevent"])),class:"bg-white py-5 px-5 rounded-bl-[0.5rem] rounded-br-[0.5rem]"},[t("div",ke,[t("div",ze,[t("h3",_e,r(l.$t("Organization details")),1)]),t("div",Ce,[t("div",Ue,[d(c,{modelValue:e(s).name,"onUpdate:modelValue":o[4]||(o[4]=n=>e(s).name=n),name:l.$t("Name"),error:e(s).errors.name,type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error"]),d(_,{modelValue:e(s).plan,"onUpdate:modelValue":o[5]||(o[5]=n=>e(s).plan=n),name:l.$t("Subscription plan"),error:e(s).errors.plan,options:Q(),type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error","options"])])])]),i.organization===null?(u(),g("div",Se,[t("div",Be,[t("h3",Ae,r(l.$t("User details")),1),t("p",Me,r(l.$t("Enter the details of the main administrative user of this organization")),1)]),t("div",Ze,[t("div",je,[t("button",{type:"button",class:a(["w-[50%] rounded-[5px] px-1 py-2 text-sm",{"bg-white text-black":e(s).create_user===1}]),onClick:o[6]||(o[6]=n=>C(1))},r(l.$t("Add user")),3),t("button",{type:"button",class:a(["w-[50%] rounded-[5px] px-1 py-2 text-sm",{"bg-white text-black":e(s).create_user===0}]),onClick:o[7]||(o[7]=n=>C(0))},r(l.$t("Select existing user")),3)]),e(s).create_user===1?(u(),g("div",Fe,[d(c,{modelValue:e(s).first_name,"onUpdate:modelValue":o[8]||(o[8]=n=>e(s).first_name=n),name:l.$t("First name"),error:e(s).errors.first_name,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(c,{modelValue:e(s).last_name,"onUpdate:modelValue":o[9]||(o[9]=n=>e(s).last_name=n),name:l.$t("Last name"),error:e(s).errors.last_name,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(c,{modelValue:e(s).email,"onUpdate:modelValue":o[10]||(o[10]=n=>e(s).email=n),name:l.$t("Email"),error:e(s).errors.email,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(oe,{modelValue:e(s).phone,"onUpdate:modelValue":o[11]||(o[11]=n=>e(s).phone=n),name:l.$t("Phone"),error:e(s).errors.phone,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(c,{modelValue:e(s).password,"onUpdate:modelValue":o[12]||(o[12]=n=>e(s).password=n),name:l.$t("Password"),error:e(s).errors.password,type:"password",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(c,{modelValue:e(s).password_confirmation,"onUpdate:modelValue":o[13]||(o[13]=n=>e(s).password_confirmation=n),name:l.$t("Confirm password"),error:e(s).errors.password_confirmation,type:"password",class:a("sm:col-span-3")},null,8,["modelValue","name","error"])])):(u(),g("div",Oe,[d(c,{modelValue:e(s).email,"onUpdate:modelValue":o[14]||(o[14]=n=>e(s).email=n),name:l.$t("Email"),error:e(s).errors.email,type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error"])]))])])):f("",!0),t("div",Te,[t("div",Ne,[t("h3",De,r(l.$t("Address details")),1)]),t("div",Pe,[t("div",Ee,[d(c,{modelValue:e(s).street,"onUpdate:modelValue":o[15]||(o[15]=n=>e(s).street=n),name:l.$t("Street"),error:e(s).errors.street,type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error"]),d(c,{modelValue:e(s).city,"onUpdate:modelValue":o[16]||(o[16]=n=>e(s).city=n),name:l.$t("City"),error:e(s).errors.city,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(c,{modelValue:e(s).state,"onUpdate:modelValue":o[17]||(o[17]=n=>e(s).state=n),name:l.$t("State"),error:e(s).errors.state,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(c,{modelValue:e(s).zip,"onUpdate:modelValue":o[18]||(o[18]=n=>e(s).zip=n),name:l.$t("Zip code"),error:e(s).errors.zip,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),d(c,{modelValue:e(s).country,"onUpdate:modelValue":o[19]||(o[19]=n=>e(s).country=n),name:l.$t("Country"),error:e(s).errors.country,type:"text",class:a("sm:col-span-3")},null,8,["modelValue","name","error"])])])]),t("div",Le,[t("button",He,r(l.$t("Save")),1)])],32)):f("",!0)])]}),_:1}),d(le,{label:l.$t("Create transaction"),isOpen:V.value},{default:x(()=>[t("div",Ie,[t("form",{onSubmit:o[26]||(o[26]=R(m=>X(),["prevent"])),class:""},[t("div",Je,[d(_,{modelValue:e(p).type,"onUpdate:modelValue":o[21]||(o[21]=m=>e(p).type=m),name:l.$t("Transaction type"),error:e(p).errors.type,options:G.value,class:a("sm:col-span-3")},null,8,["modelValue","name","error","options"]),d(c,{modelValue:e(p).amount,"onUpdate:modelValue":o[22]||(o[22]=m=>e(p).amount=m),name:l.$t("Amount"),error:e(p).errors.amount,type:"number",class:a("sm:col-span-3")},null,8,["modelValue","name","error"]),e(p).type==="payment"?(u(),Y(_,{key:0,modelValue:e(p).method,"onUpdate:modelValue":o[23]||(o[23]=m=>e(p).method=m),name:l.$t("Payment method"),error:e(p).errors.method,options:K.value,class:a("sm:col-span-6")},null,8,["modelValue","name","error","options"])):(u(),Y(c,{key:1,modelValue:e(p).description,"onUpdate:modelValue":o[24]||(o[24]=m=>e(p).description=m),name:l.$t("Description"),error:e(p).errors.description,type:"text",class:a("sm:col-span-6")},null,8,["modelValue","name","error"]))]),t("div",Re,[t("p",Ye,[qe,t("span",null,r(l.$t("You can't undo this transaction once you save it")),1)])]),t("div",Ge,[t("button",{type:"button",onClick:o[25]||(o[25]=m=>k()),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},r(l.$t("Cancel")),1),t("button",{class:a(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":$.value}]),disabled:$.value},[$.value?(u(),g("svg",Qe,et)):(u(),g("span",tt,r(l.$t("Save")),1))],10,Ke)])],32)])]),_:1},8,["label","isOpen"])],64))}},Dt=ie(ot,[["__file","Show.vue"]]);export{Dt as default};
