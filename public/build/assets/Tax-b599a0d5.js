import{T as D,o as k,c as V,h as e,f as a,g as d,t as n,F,d as N,e as M,n as I,u as g,k as O,a as o,r as h,x as j}from"./app-06066091.js";import E from"./App-d2aece6e.js";import{A as S}from"./AlertModal-04f87487.js";import{u as U}from"./useAlertModal-20c1d6c7.js";import{T as H}from"./Table-593fb9c4.js";import{T as L,a as Z,b as _}from"./TableHeaderRowItem-58f056c6.js";import{T as K,a as P,b as $}from"./TableBodyRowItem-f7a16ee1.js";import{D as q}from"./Dropdown-82fc851d.js";import{D as z,a as B}from"./DropdownItem-f7277231.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{F as G}from"./FormModalModified-641bf4d3.js";import{F as J}from"./FormSelect-6c96738a.js";import{t as u}from"./index-8e47e887.js";import"./App-3a5d1971.js";import"./Sidebar-53ff02b1.js";import"./Menu-18e4a0b3.js";import"./ProfileModal-9fa7d7fd.js";import"./FormInput-a5364d31.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./transition-9e93c540.js";import"./hidden-94645dc9.js";import"./use-outside-click-6f649936.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./use-resolve-button-type-737f9372.js";import"./LangToggle-4117f8d3.js";import"./use-text-value-6338b60a.js";import"./MobileSidebar-c90c1661.js";import"./index-2177aed8.js";/* empty css              */import"./Sidebar-86915732.js";import"./Pagination-d90e3b69.js";import"./use-tree-walker-26135af6.js";import"./Modal-858f9f8a.js";import"./FormImage-b4d8860f.js";import"./FormTextArea-248be5f8.js";const Q=o("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[o("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[o("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1),W={__name:"TaxTable",props:{rows:{type:Array,required:!0}},emits:["edit","delete"],setup(w,{emit:y}){const p=w,{isOpenAlert:c,openAlert:f,confirmAlert:x}=U(),m=y,C=D({test:null});function v(s){m("edit",s)}const T=s=>{C.delete("/admin/tax-rates/"+s)},A=s=>s===p.rows.data.length-1;return(s,b)=>(k(),V(F,null,[e(H,{rows:w.rows},{default:a(()=>[e(L,null,{default:a(()=>[e(Z,null,{default:a(()=>[e(_,{position:"first"},{default:a(()=>[d(n(s.$t("Name")),1)]),_:1}),e(_,null,{default:a(()=>[d(n(s.$t("Tax rate")),1)]),_:1}),e(_,null,{default:a(()=>[d(n(s.$t("Status")),1)]),_:1}),e(_,{position:"last"})]),_:1})]),_:1}),e(K,null,{default:a(()=>[(k(!0),V(F,null,N(w.rows.data,(r,l)=>(k(),M(P,{key:l,class:I(A(l)?"":"border-b")},{default:a(()=>[e($,{position:"first"},{default:a(()=>[d(n(r.name),1)]),_:2},1024),e($,null,{default:a(()=>[d(n(r.percentage)+"%",1)]),_:2},1024),e($,null,{default:a(()=>[d(n(s.$t(r.status)),1)]),_:2},1024),e($,{position:"last"},{default:a(()=>[e(q,{align:"right",class:"mt-2"},{items:a(()=>[e(z,null,{default:a(()=>[e(B,{as:"button",onClick:t=>v(r.id)},{default:a(()=>[d(n(s.$t("Edit")),1)]),_:2},1032,["onClick"]),e(B,{as:"button",onClick:t=>g(f)(r.id)},{default:a(()=>[d(n(s.$t("Delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[Q]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["rows"]),e(S,{modelValue:g(c),"onUpdate:modelValue":b[0]||(b[0]=r=>O(c)?c.value=r:null),onConfirm:b[1]||(b[1]=()=>g(x)(T)),label:s.$t("Delete row"),description:s.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},X=R(W,[["__file","TaxTable.vue"]]),Y={class:"flex justify-between"},ee={class:"text-xl mb-1"},te={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},oe=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),le={class:"ml-1 mt-1"},ae={class:"bg-white rounded-md mb-4 py-4 px-4 flex grid grid-cols-2"},se={class:"text-xs"},ne={__name:"Tax",props:{rows:Object,config:Object},setup(w){const y=w,p=h(!1),c=h("Add Tax Rate"),f=h("/admin/tax-rates"),x=h("post"),m={name:null,type:null,percentage:null,status:null},v=D({is_tax_inclusive:(l=>{const t=y.config.find(i=>i.key===l);return t?t.value:""})("is_tax_inclusive")}),T=(l,t={})=>{c.value=u("Add tax rate"),f.value="/admin/tax-rates",x.value="post",l!=null?(c.value=u("Edit tax rate"),f.value="/admin/tax-rates/"+l,x.value="put",A()):(m.name=null,m.percentage=null,m.status=null,p.value=!0)};function A(){j.get(f.value).then(l=>{const{data:t}=l;for(const i in t.item)m.hasOwnProperty(i)&&(m[i]=t.item[i]);p.value=!0}).catch(l=>{})}const s=h([{value:"1",label:u("Inclusive")},{value:"0",label:u("Exclusive")}]),b=[{inputType:"FormInput",name:"name",label:u("name"),type:"text",className:"sm:col-span-6"},{inputType:"FormInput",name:"percentage",label:u("Percentage"),type:"number",className:"sm:col-span-3"},{inputType:"FormSelect",name:"status",label:u("status"),options:[{value:"active",label:u("Active")},{value:"inactive",label:u("Inactive")}],className:"sm:col-span-3"}],r=async()=>{v.put("/admin/settings",{preserveScroll:!0})};return(l,t)=>(k(),M(E,null,{default:a(()=>[o("div",Y,[o("div",null,[o("h2",ee,n(l.$t("Tax rates")),1),o("p",te,[oe,o("span",le,n(l.$t("Configure tax rates")),1)])]),o("div",null,[o("button",{onClick:t[0]||(t[0]=i=>T()),type:"button",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},n(l.$t("Add tax rate")),1)])]),o("div",ae,[o("div",null,[o("h3",null,n(l.$t("Tax calculation method")),1),o("span",se,n(l.$t("Choose whether tax should be calculated inclusively or exclusively")),1)]),o("div",null,[e(J,{modelValue:g(v).is_tax_inclusive,"onUpdate:modelValue":t[1]||(t[1]=i=>g(v).is_tax_inclusive=i),name:"",type:"text",options:s.value,error:g(v).errors.is_tax_inclusive,class:I("sm:col-span-3")},null,8,["modelValue","options","error"]),o("button",{onClick:t[2]||(t[2]=i=>r()),type:"button",class:"rounded-md bg-gray-600 mt-4 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},n(l.$t("Update")),1)])]),e(X,{rows:y.rows,onEdit:T,onDelete:l.openAlert},null,8,["rows","onDelete"]),e(G,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=i=>p.value=i),label:c.value,url:f.value,form:m,formInputs:b,formMethod:x.value,onCloseModal:t[4]||(t[4]=i=>p.value=!1)},null,8,["modelValue","label","url","formMethod"])]),_:1}))}},Ke=R(ne,[["__file","Tax.vue"]]);export{Ke as default};
