import{T as j,r as $,O as E,o as u,c as m,a as e,w as Ze,v as Ae,u as t,b as w,h as n,f as v,g as M,t as a,F as P,d as Te,e as Ce,n as f,k as Se,l as Fe,m as De,G as Me,j as N,K as Ie}from"./app-06066091.js";import Be from"./Layout-a9e18175.js";import{t as xe}from"./index-8e47e887.js";import{d as Ue}from"./debounce-26497136.js";import{A as Ne}from"./AlertModal-04f87487.js";import{u as je}from"./useAlertModal-20c1d6c7.js";/* empty css              */import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{a as Oe,b as B,T as ze}from"./TableHeaderRowItem-58f056c6.js";import{a as Le,b as U,T as Ee}from"./TableBodyRowItem-f7a16ee1.js";import{D as Pe}from"./Dropdown-82fc851d.js";import{F as H}from"./FormInput-a5364d31.js";import{M as Ve}from"./Modal-858f9f8a.js";import{F as ke}from"./FormSelect-6c96738a.js";import{F as He}from"./FormTextArea-248be5f8.js";import{F as $e}from"./FormToggleSwitch-ed559e79.js";import{P as Re}from"./Pagination-d90e3b69.js";import"./App-53e90ba2.js";import"./Sidebar-56399b82.js";import"./Menu-32707887.js";import"./ProfileModal-9fa7d7fd.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./transition-9e93c540.js";import"./hidden-94645dc9.js";import"./use-outside-click-6f649936.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./use-resolve-button-type-737f9372.js";import"./LangToggle-4117f8d3.js";import"./OrganizationModal-94b0dd29.js";import"./use-text-value-6338b60a.js";import"./index-2177aed8.js";import"./MobileSidebar-c9250509.js";import"./_baseGetTag-c09aeb4c.js";import"./use-tree-walker-26135af6.js";const Ke={class:"bg-slate-100 md:bg-slate-50 flex items-center border border-primary md:border-none md:shadow-sm h-10 w-full md:w-80 rounded-[0.5rem] mb-6 text-sm"},Xe=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1),qe=["placeholder"],We=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1),Ge=[We],Je={key:1,class:"pr-2"},Qe=Fe('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1),Ye=[Qe],et={class:"bg-slate-100 md:bg-slate-50 rounded-[0.5rem]"},tt={class:"w-full"},st=["onClick"],ot=e("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"})])],-1),lt=[ot],at={__name:"DocumentTable",props:{rows:{type:Object,required:!0},filters:{type:Object}},emits:["delete"],setup(C,{emit:A}){const V=C,{isOpenAlert:c,openAlert:T,confirmAlert:y}=je(),x=j({test:null}),k=p=>{x.delete("/automation/upload/document/"+p)},i=p=>p===V.rows.data.length-1,l=$({search:V.filters.search}),Z=$(!1),D=()=>{l.value.search=null,F()},S=Ue(()=>{Z.value=!0,F()},1e3),F=()=>{E.visit("/automation/ai",{method:"get",data:l.value})},I=p=>p?p.charAt(0).toUpperCase()+p.slice(1):"";return(p,h)=>(u(),m(P,null,[e("div",Ke,[Xe,Ze(e("input",{onInput:h[0]||(h[0]=(...s)=>t(S)&&t(S)(...s)),"onUpdate:modelValue":h[1]||(h[1]=s=>l.value.search=s),type:"text",class:"outline-none px-4 w-full bg-slate-100 md:bg-slate-50",placeholder:p.$t("Search by title")},null,40,qe),[[Ae,l.value.search]]),Z.value===!1&&l.value.search?(u(),m("button",{key:0,onClick:D,type:"button",class:"pr-2"},Ge)):w("",!0),Z.value?(u(),m("span",Je,Ye)):w("",!0)]),e("div",et,[e("table",tt,[n(ze,null,{default:v(()=>[n(Oe,null,{default:v(()=>[n(B,{position:"first"},{default:v(()=>[M(a(p.$t("Title")),1)]),_:1}),n(B,null,{default:v(()=>[M(a(p.$t("Source")),1)]),_:1}),n(B,null,{default:v(()=>[M(a(p.$t("Status")),1)]),_:1}),n(B,null,{default:v(()=>[M(a(p.$t("Last updated")),1)]),_:1}),n(B,{position:"last"})]),_:1})]),_:1}),n(Ee,null,{default:v(()=>[(u(!0),m(P,null,Te(C.rows.data,(s,d)=>(u(),Ce(Le,{key:d,class:f(i(d)?"":"border-b")},{default:v(()=>[n(U,{position:"first",class:"capitalize"},{default:v(()=>[M(a(s.title),1)]),_:2},1024),n(U,{class:"hidden sm:table-cell"},{default:v(()=>[M(a(s.source),1)]),_:2},1024),n(U,{class:"hidden sm:table-cell"},{default:v(()=>[M(a(p.$t(I(s.status))),1)]),_:2},1024),n(U,{class:"hidden sm:table-cell"},{default:v(()=>[M(a(s.updated_at),1)]),_:2},1024),n(U,{position:"last"},{default:v(()=>[n(Pe,{align:"right",class:"mt-2"},{default:v(()=>[e("button",{onClick:b=>t(T)(s.uuid),class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},lt,8,st)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})])]),n(Ne,{modelValue:t(c),"onUpdate:modelValue":h[2]||(h[2]=s=>Se(c)?c.value=s:null),onConfirm:h[3]||(h[3]=()=>t(y)(k)),label:p.$t("Delete row"),description:p.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},it=R(at,[["__file","DocumentTable.vue"]]),rt={class:"block text-sm leading-6 text-gray-900 mt-4 mb-1"},nt={class:"max-w-md w-full gap-y-8"},dt={class:"space-y-6"},ut={for:"file-upload",class:"text-center cursor-pointer"},ct=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{fill:"currentColor",d:"m15.393 4.054l-.502.557l.502-.557Zm3.959 3.563l-.502.557l.502-.557Zm2.302 2.537l-.685.305l.685-.305ZM3.172 20.828l.53-.53l-.53.53Zm17.656 0l-.53-.53l.53.53ZM14 21.25h-4v1.5h4v-1.5ZM2.75 14v-4h-1.5v4h2.5Zm18.5-.437V14h2.5v-.437h-1.5ZM14.891 4.61l3.959 3.563l1.003-1.115l-3.958-3.563l-1.004 1.115Zm7.859 8.952c0-1.689.015-2.758-.41-3.714l-1.371.61c.266.598.281 1.283.281 3.104h2.5Zm-3.9-5.389c1.353 1.218 1.853 1.688 2.119 2.285l1.37-.61c-.426-.957-1.23-1.66-2.486-2.79L18.85 8.174ZM10.03 2.75c1.582 0 2.179.012 2.71.216l.538-1.4c-.852-.328-1.78-.316-3.248-.316v1.5Zm5.865.746c-1.086-.977-1.765-1.604-2.617-1.93l-.537 1.4c.532.204.98.592 2.15 1.645l1.004-1.115ZM10 21.25c-1.907 0-3.261-.002-4.29-.14c-1.005-.135-1.585-.389-2.008-.812l-1.06 1.06c.748.75 1.697 1.081 2.869 1.239c1.15.155 2.625.153 4.489.153v-1.5ZM1.25 14c0 1.864-.002 3.338.153 4.489c.158 1.172.49 2.121 1.238 2.87l1.06-1.06c-.422-.424-.676-1.004-.811-2.01c-.138-1.027-.14-2.382-.14-4.289h-1.5ZM14 22.75c1.864 0 3.338.002 4.489-.153c1.172-.158 2.121-.49 2.87-1.238l-1.06-1.06c-.424.422-1.004.676-2.01.811c-1.027.138-2.382.14-4.289.14v1.5ZM21.25 14c0 1.907-.002 3.262-.14 4.29c-.135 1.005-.389 1.585-.812 2.008l1.06 1.06c.75-.748 1.081-1.697 1.239-2.869c.155-1.15.153-2.625.153-4.489h-1.5Zm-18.5-4c0-1.907.002-3.261.14-4.29c.135-1.005.389-1.585.812-2.008l-1.06-1.06c-.75.748-1.081 1.697-1.239 2.869C1.248 6.661 1.25 8.136 1.25 10h2.5Zm7.28-8.75c-1.875 0-3.356-.002-4.511.153c-1.177.158-2.129.49-2.878 1.238l1.06 1.06c.424-.422 1.005-.676 2.017-.811c1.033-.138 2.395-.14 4.312-.14v-1.5Z"}),e("path",{stroke:"currentColor","stroke-width":"1.5",d:"M13 2.5V5c0 2.357 0 3.536.732 4.268C14.464 10 15.643 10 18 10h4"})])],-1),mt={class:"flex text-sm text-gray-600"},pt={class:"relative bg-white rounded-md"},ft={class:"pl-1"},vt={class:"text-xs text-gray-500"},ht={class:"text-xs text-gray-500"},_t=e("b",null,"20MB",-1),bt=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{fill:"currentColor",d:"m15.393 4.054l-.502.557l.502-.557Zm3.959 3.563l-.502.557l.502-.557Zm2.302 2.537l-.685.305l.685-.305ZM3.172 20.828l.53-.53l-.53.53Zm17.656 0l-.53-.53l.53.53ZM14 21.25h-4v1.5h4v-1.5ZM2.75 14v-4h-1.5v4h2.5Zm18.5-.437V14h2.5v-.437h-1.5ZM14.891 4.61l3.959 3.563l1.003-1.115l-3.958-3.563l-1.004 1.115Zm7.859 8.952c0-1.689.015-2.758-.41-3.714l-1.371.61c.266.598.281 1.283.281 3.104h2.5Zm-3.9-5.389c1.353 1.218 1.853 1.688 2.119 2.285l1.37-.61c-.426-.957-1.23-1.66-2.486-2.79L18.85 8.174ZM10.03 2.75c1.582 0 2.179.012 2.71.216l.538-1.4c-.852-.328-1.78-.316-3.248-.316v1.5Zm5.865.746c-1.086-.977-1.765-1.604-2.617-1.93l-.537 1.4c.532.204.98.592 2.15 1.645l1.004-1.115ZM10 21.25c-1.907 0-3.261-.002-4.29-.14c-1.005-.135-1.585-.389-2.008-.812l-1.06 1.06c.748.75 1.697 1.081 2.869 1.239c1.15.155 2.625.153 4.489.153v-1.5ZM1.25 14c0 1.864-.002 3.338.153 4.489c.158 1.172.49 2.121 1.238 2.87l1.06-1.06c-.422-.424-.676-1.004-.811-2.01c-.138-1.027-.14-2.382-.14-4.289h-1.5ZM14 22.75c1.864 0 3.338.002 4.489-.153c1.172-.158 2.121-.49 2.87-1.238l-1.06-1.06c-.424.422-1.004.676-2.01.811c-1.027.138-2.382.14-4.289.14v1.5ZM21.25 14c0 1.907-.002 3.262-.14 4.29c-.135 1.005-.389 1.585-.812 2.008l1.06 1.06c.75-.748 1.081-1.697 1.239-2.869c.155-1.15.153-2.625.153-4.489h-1.5Zm-18.5-4c0-1.907.002-3.261.14-4.29c.135-1.005.389-1.585.812-2.008l-1.06-1.06c-.75.748-1.081 1.697-1.239 2.869C1.248 6.661 1.25 8.136 1.25 10h2.5Zm7.28-8.75c-1.875 0-3.356-.002-4.511.153c-1.177.158-2.129.49-2.878 1.238l1.06 1.06c.424-.422 1.005-.676 2.017-.811c1.033-.138 2.395-.14 4.312-.14v-1.5Z"}),e("path",{stroke:"currentColor","stroke-width":"1.5",d:"M13 2.5V5c0 2.357 0 3.536.732 4.268C14.464 10 15.643 10 18 10h4"})])],-1),gt={class:"rounded-md p-1 bg-slate-50 text-center text-sm flex items-center gap-x-1"},wt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[e("g",{fill:"black"},[e("path",{d:"M6.854 13.854a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708.708z"}),e("path",{d:"M6.146 6.854a.5.5 0 1 1 .708-.708l7 7a.5.5 0 0 1-.708.708z"})])],-1),yt=[wt],xt={key:0,class:"form-error text-[#b91c1c] text-xs"},kt={class:"mt-5"},$t={class:"flex justify-center mt-2 w-full"},Ct={key:0,class:"w-full inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white hover:bg-green-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},Mt=e("svg",{class:"mx-auto text-white",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"white","stroke-dasharray":"15","stroke-dashoffset":"15","stroke-linecap":"round","stroke-width":"2",d:"M12 3C16.9706 3 21 7.02944 21 12"},[e("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.3s",values:"15;0"}),e("animateTransform",{attributeName:"transform",dur:"1.5s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})])],-1),Vt=[Mt],Zt={__name:"DocumentUploadModal",props:["type","modelValue"],emits:["update:modelValue"],setup(C,{emit:A}){const V=C,c=A;De(()=>Ie().props.flash.status);const T=xe("Upload Document"),y=$(V.modelValue),x=$(null),k=$(x.value),i=$(null),l=j({title:null,file:null});Me(()=>V.modelValue,s=>{y.value=s});const Z=s=>{s.preventDefault();const d=s.target.files[0];S(d)},D=s=>{s.preventDefault();const d=s.dataTransfer.files[0];S(d)};function S(s){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(s.type)){alert(xe("please select a PDF, Word, or TXT file"));return}x.value=s.name,k.value=F(x.value,28),l.file=s}const F=(s,d)=>{if(s.length<=d)return s;const b=Math.floor(d/2),O=s.slice(0,b),z=s.slice(-b);return`${O}...${z}`};function I(){l.file=null}function p(){const s=new FormData;s.append("title",l.title),s.append("file",l.file),l.post("/automation/upload/document",{preserveScroll:!0,onProgress:d=>{i.value="pending"},onSuccess:()=>{l.reset(),i.value="complete",h()},onError:d=>{i.value=null}})}function h(){y.value=!1,c("update:modelValue",!1),setTimeout(()=>{i.value=null,l.reset(),l.clearErrors()},500)}return(s,d)=>(u(),Ce(Ve,{label:t(T),isOpen:y.value,closeBtn:!0,onClose:d[5]||(d[5]=b=>h())},{default:v(()=>[n(H,{modelValue:t(l).title,"onUpdate:modelValue":d[0]||(d[0]=b=>t(l).title=b),error:t(l).errors.title,name:"Title",type:"text",class:f("mt-4")},null,8,["modelValue","error"]),e("div",rt,a(s.$t("Document (PDF, word or TXT file)")),1),e("div",nt,[e("div",dt,[t(l).file==null?(u(),m("div",{key:0,onDragover:d[2]||(d[2]=N(()=>{},["prevent"])),onDrop:D,class:f(["flex justify-center px-6 pt-5 pb-6 shadow-sm outline-none ring-1 ring-inset rounded-md",t(l).errors.file?"ring-[#b91c1c]":"ring-gray-300"])},[e("input",{type:"file",class:"sr-only",accept:".pdf,.txt,.doc,.docx",ref:"fileInput",id:"file-upload",onChange:d[1]||(d[1]=b=>Z(b))},null,544),e("label",ut,[e("div",null,[ct,e("div",mt,[e("div",pt,[e("span",null,a(s.$t("Click to upload a file")),1)]),e("p",ft,a(s.$t("Or drag and drop")),1)]),e("p",vt,a(s.$t("PDF, Word or TXT files only")),1),e("p",ht,[M(a(s.$t("Maximum size"))+" ",1),_t])])])],34)):(u(),m("div",{key:1,class:f(["flex justify-center px-6 pt-5 pb-6 shadow-sm outline-none ring-1 ring-inset rounded-md",t(l).errors.file?"ring-[#b91c1c]":"ring-gray-300"])},[e("div",null,[bt,e("div",gt,[e("span",null,a(k.value),1),e("span",{onClick:d[3]||(d[3]=b=>I()),class:"bg-slate-200 rounded-full cursor-pointer"},yt)])])],2))]),t(l).errors.file?(u(),m("span",xt,a(t(l).errors.file),1)):w("",!0)]),e("div",kt,[e("div",$t,[t(l).processing?(u(),m("div",Ct,Vt)):(u(),m("button",{key:1,type:"button",onClick:d[4]||(d[4]=b=>p()),class:"w-full inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white hover:bg-green-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},a(s.$t("Upload")),1))])])]),_:1},8,["label","isOpen"]))}},At=R(Zt,[["__file","DocumentUploadModal.vue"]]),Tt={class:"md:h-[90vh]"},St={class:"flex justify-center items-center"},Ft={class:"md:w-[60em]"},Dt={class:"bg-white border border-slate-200 rounded-lg pt-2 text-sm mb-4 px-4 mb-20"},It={class:"w-full py-2 mb-4 mt-2"},Bt={class:"flex w-full"},Ut={class:"text-md"},Nt={class:"text-[16px]"},jt={class:"mb-1 text-slate-500"},Ot={class:"ml-auto"},zt={class:"flex items-center gap-x-3"},Lt={key:2},Et={class:"flex items-center justify-between px-4 pt-2 pb-4"},Pt={class:"text-[16px]"},Ht={class:"text-slate-500"},Rt={class:"w-[10%]"},Kt={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Xt=e("path",{fill:"black","fill-rule":"evenodd",d:"M16.53 14.03a.75.75 0 0 1-1.06 0L12 10.56l-3.47 3.47a.75.75 0 0 1-1.06-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06","clip-rule":"evenodd"},null,-1),qt=[Xt],Wt={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Gt=e("path",{fill:"black","fill-rule":"evenodd",d:"M16.53 8.97a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06L12 12.44l3.47-3.47a.75.75 0 0 1 1.06 0","clip-rule":"evenodd"},null,-1),Jt=[Gt],Qt={key:0},Yt={class:"flex space-x-10 border-b w-full px-4 py-6"},es={class:"w-[70%]"},ts={class:"text-slate-600"},ss={class:"text-xs text-slate-700 flex items-center"},os={class:"w-[30%]"},ls={class:"flex space-x-10 border-b w-full px-4 py-6"},as={class:"w-[40%]"},is={class:"text-slate-600"},rs={class:"text-xs text-slate-700 flex items-center"},ns={class:"w-[60%]"},ds={class:"flex space-x-10 border-b w-full px-4 py-6"},us={class:"w-[40%]"},cs={class:"text-slate-600"},ms={class:"text-xs text-slate-700 flex items-center"},ps={class:"w-[60%]"},fs={class:"flex px-4 pt-1"},vs={class:"ml-auto mt-2"},hs=["disabled"],_s={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},bs=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),gs=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),ws=[bs,gs],ys={key:1},xs={key:1,class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-20 pb-4 px-4"},ks={class:"w-full py-2 mb-4 mt-2"},$s={class:"flex w-full mb-4"},Cs={class:"text-md w-[70%]"},Ms={class:"text-[16px]"},Vs={class:"flex items-center mt-1 text-slate-500"},Zs={class:"ml-auto w-[40%]"},As={class:"float-right flex items-center gap-x-2"},Ts={class:"w-5/5"},Ss={class:"px-4 pb-4"},Fs={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},Ds={class:"sm:col-span-6 border rounded-md p-2"},Is={class:f("sm:col-span-6")},Bs={class:"block text-sm leading-6 text-gray-900 mb-1"},Us={class:"sm:col-span-6 border rounded-md p-2"},Ns={class:"flex sm:col-span-6 grid grid-cols-6"},js={class:f("sm:col-span-3")},Os={class:"block text-sm leading-6 text-gray-900 mb-1"},zs={class:"sm:col-span-6 bg-[#ffe5b4] rounded-md px-3 py-1 mt-2"},Ls={class:"block text-xs leading-6 text-gray-900"},Es={class:"mt-4 flex"},Ps=["disabled"],Hs={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Rs=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Ks=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),Xs=[Rs,Ks],qs={key:1},Ws={__name:"Index",props:["rows","filters","settings","aimodule","fbmodule","models","voices"],setup(C){var h,s,d,b,O,z,K,X,q,W,G,J,Q,Y,ee,te,se,oe,le,ae,ie,re,ne,de;const A=C,V=$(A.settings.metadata),c=$(V.value?JSON.parse(V.value):null),T=$(!1),y=$(!1),x=$(!1),k=j({active:((s=(h=c.value)==null?void 0:h.ai)==null?void 0:s.active)??!1}),i=j({active:((b=(d=c.value)==null?void 0:d.ai)==null?void 0:b.active)??!1,api_key:((z=(O=c.value)==null?void 0:O.ai)==null?void 0:z.api_key)??null,model:((X=(K=c.value)==null?void 0:K.ai)==null?void 0:X.model)??null,voice:((W=(q=c.value)==null?void 0:q.ai)==null?void 0:W.voice)??null,allow_audio_response:((J=(G=c.value)==null?void 0:G.ai)==null?void 0:J.allow_audio_response)??null,max_tokens:((Y=(Q=c.value)==null?void 0:Q.ai)==null?void 0:Y.max_tokens)??null,temperature:((te=(ee=c.value)==null?void 0:ee.ai)==null?void 0:te.temperature)??null,ai_chat_form_active:((oe=(se=c.value)==null?void 0:se.ai)==null?void 0:oe.ai_chat_form_active)??!1}),l=j({enable_automatic_responses:((ae=(le=c.value)==null?void 0:le.ai)==null?void 0:ae.enable_automatic_responses)??!1,start_keywords:((re=(ie=c.value)==null?void 0:ie.ai)==null?void 0:re.start_keywords)??null,stop_keywords:((de=(ne=c.value)==null?void 0:ne.ai)==null?void 0:de.stop_keywords)??null}),Z=()=>{x.value=!x.value},D=()=>{k.active=!k.active,F()},S=()=>{l.enable_automatic_responses=!l.enable_automatic_responses},F=async()=>{k.post("/automation/ai/activate",{preserveScroll:!0})},I=()=>{i.post("/automation/ai/setup",{preserveScroll:!0,onSuccess:()=>{E.visit("/automation/ai",{preserveState:!1})}})},p=()=>{l.post("/automation/ai/assistant-setup",{preserveScroll:!0,onSuccess:()=>{E.visit("/automation/ai",{preserveState:!1})}})};return Me(()=>i.model,r=>{r!=="gpt-4o-audio-preview"&&(i.allow_audio_response=!1)}),(r,o)=>(u(),m(P,null,[n(Be,{aimodule:C.aimodule,fbmodule:C.fbmodule},{default:v(()=>{var L,ue,ce,me,pe,fe,ve,he,_e,be,ge,we;return[e("div",Tt,[e("div",St,[e("div",Ft,[e("div",Dt,[e("div",It,[e("div",Bt,[e("div",Ut,[e("h4",Nt,a(r.$t("Enable AI Assistant")),1),e("div",jt,a(r.$t("Activate AI-generated responses in your conversations")),1)]),e("div",Ot,[e("div",zt,[((ue=(L=c.value)==null?void 0:L.ai)==null?void 0:ue.api_key)!=null?(u(),m("div",{key:0,class:f(["w-12 h-6 flex items-center bg-gray-300 rounded-full p-1",{"bg-primary":t(k).active}]),onClick:o[0]||(o[0]=_=>D(r.active))},[e("div",{class:f(["bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out",{"translate-x-6":t(k).active}])},null,2)],2)):w("",!0),((me=(ce=c.value)==null?void 0:ce.ai)==null?void 0:me.api_key)==null?(u(),m("div",{key:1,class:f(["w-12 h-6 flex items-center bg-gray-300 rounded-full p-1",{"bg-primary":t(i).active}]),onClick:o[1]||(o[1]=_=>{t(i).active=!0,y.value=!0})},[e("div",{class:f(["bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out",{"translate-x-6":t(i).active}])},null,2)],2)):w("",!0),((fe=(pe=c.value)==null?void 0:pe.ai)==null?void 0:fe.api_key)!=null?(u(),m("div",Lt," | ")):w("",!0),((he=(ve=c.value)==null?void 0:ve.ai)==null?void 0:he.api_key)!=null?(u(),m("button",{key:3,onClick:o[2]||(o[2]=_=>y.value=!0),class:"bg-primary text-white h-8 rounded-lg text-[13px] px-3 w-fit"},a(r.$t("Update")),1)):w("",!0)])])])])]),((be=(_e=c.value)==null?void 0:_e.ai)==null?void 0:be.api_key)!=null?(u(),m("form",{key:0,onSubmit:o[8]||(o[8]=N(_=>p(),["prevent"])),class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4 pb-4"},[e("div",Et,[e("div",{onClick:o[3]||(o[3]=_=>Z()),class:"w-[90%] cursor-pointer"},[e("h4",Pt,a(r.$t("AI Assistant Setup")),1),e("div",Ht,a(r.$t("Setup keywords for AI assistance")),1)]),e("div",Rt,[e("button",{type:"button",onClick:o[4]||(o[4]=_=>Z()),class:"hover:bg-slate-50 rounded-full p-1 float-right"},[x.value?(u(),m("svg",Kt,qt)):w("",!0),x.value?w("",!0):(u(),m("svg",Wt,Jt))])])]),x.value?(u(),m("div",Qt,[e("div",Yt,[e("div",es,[e("span",ts,a(r.$t("Enable automatic AI assistance for new conversations")),1),e("div",ss,[e("span",null,a(r.$t("Turn on this option to let users automatically get help from the AI whenever they start a new conversation or ticket. If enabled, this will override the keywords set for initiating AI chat.")),1)])]),e("div",os,[e("div",{class:f(["ml-auto w-12 h-6 flex items-center bg-gray-300 rounded-full p-1",{"bg-primary":t(l).enable_automatic_responses}]),onClick:o[5]||(o[5]=_=>S())},[e("div",{class:f(["bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out",{"translate-x-6":t(l).enable_automatic_responses}])},null,2)],2)])]),e("div",ls,[e("div",as,[e("span",is,a(r.$t("Keyword(s) to start the AI agent")),1),e("div",rs,[e("span",null,a(r.$t("Set word or phrase")),1)])]),e("div",ns,[n(H,{modelValue:t(l).start_keywords,"onUpdate:modelValue":o[6]||(o[6]=_=>t(l).start_keywords=_),error:t(l).errors.start_keywords,name:"",type:"text",class:f("col-span-4")},null,8,["modelValue","error"])])]),e("div",ds,[e("div",us,[e("span",cs,a(r.$t("Keyword(s) to stop the AI agent")),1),e("div",ms,[e("span",null,a(r.$t("Set word or phrase")),1)])]),e("div",ps,[n(He,{modelValue:t(l).stop_keywords,"onUpdate:modelValue":o[7]||(o[7]=_=>t(l).stop_keywords=_),error:t(l).errors.stop_keywords,name:"",type:"text",class:f("col-span-4")},null,8,["modelValue","error"])])]),e("div",fs,[e("div",vs,[e("button",{type:"submit",class:"float-right bg-primary text-white h-8 rounded-lg text-[13px] px-3 w-fit",disabled:t(l).processing},[t(l).processing?(u(),m("svg",_s,ws)):(u(),m("span",ys,a(r.$t("Save")),1))],8,hs)])])])):w("",!0)],32)):w("",!0),((we=(ge=c.value)==null?void 0:ge.ai)==null?void 0:we.api_key)!=null?(u(),m("div",xs,[e("div",ks,[e("div",$s,[e("div",Cs,[e("h4",Ms,a(r.$t("Knowledge Base")),1),e("span",Vs,a(r.$t("Enhance your AI assistant by uploading information to improve client interactions.")),1)]),e("div",Zs,[e("div",As,[e("button",{onClick:o[9]||(o[9]=_=>T.value=!0),class:"rounded-md bg-primary px-3 h-8 text-[13px] text-white shadow-sm hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},a(r.$t("Upload Documents")),1)])])]),e("div",Ts,[n(it,{rows:A.rows,filters:A.filters},null,8,["rows","filters"]),e("div",Ss,[n(Re,{class:"mt-3",pagination:A.rows.meta},null,8,["pagination"])])])])])):w("",!0)])])]),n(Ve,{label:r.$t("AI Assistant Setup"),isOpen:y.value},{default:v(()=>{var _,ye;return[e("div",Fs,[e("form",{onSubmit:o[17]||(o[17]=N(g=>I(),["prevent"])),class:"grid gap-x-6 gap-y-4 sm:grid-cols-6"},[n(H,{modelValue:t(i).api_key,"onUpdate:modelValue":o[10]||(o[10]=g=>t(i).api_key=g),error:t(i).errors.api_key,name:r.$t("OpenAI API Key"),type:"password",class:f("sm:col-span-6")},null,8,["modelValue","error","name"]),n(ke,{modelValue:t(i).model,"onUpdate:modelValue":o[11]||(o[11]=g=>t(i).model=g),error:t(i).errors.model,name:r.$t("Model"),type:"text",options:C.models,class:f("sm:col-span-6")},null,8,["modelValue","error","name","options"]),e("div",Ds,[e("div",Is,[e("label",Bs,a(r.$t("Integrate AI assistant into chat form")),1),n($e,{modelValue:t(i).ai_chat_form_active,"onUpdate:modelValue":o[12]||(o[12]=g=>t(i).ai_chat_form_active=g),error:t(i).errors.ai_chat_form_active,class:f("sm:col-span-6")},null,8,["modelValue","error"])])]),e("div",Us,[e("div",Ns,[e("div",js,[e("label",Os,a(r.$t("Activate audio responses")),1),n($e,{modelValue:t(i).allow_audio_response,"onUpdate:modelValue":o[13]||(o[13]=g=>t(i).allow_audio_response=g),error:t(i).errors.allow_audio_response,class:f("sm:col-span-6"),disabled:t(i).model!="gpt-4o-audio-preview"},null,8,["modelValue","error","disabled"])]),n(ke,{modelValue:t(i).voice,"onUpdate:modelValue":o[14]||(o[14]=g=>t(i).voice=g),error:t(i).errors.voice,name:r.$t("Audio voice"),type:"text",options:C.voices,class:f("sm:col-span-3")},null,8,["modelValue","error","name","options"])]),e("div",zs,[e("span",Ls,a(r.$t("Audio responses require the gpt-4o-audio-preview model.")),1)])]),e("div",Es,[((ye=(_=c.value)==null?void 0:_.ai)==null?void 0:ye.api_key)==null?(u(),m("button",{key:0,type:"button",onClick:o[15]||(o[15]=N(g=>{y.value=!1,t(i).active=!1},["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},a(r.$t("Cancel")),1)):(u(),m("button",{key:1,type:"button",onClick:o[16]||(o[16]=N(g=>y.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},a(r.$t("Cancel")),1)),e("button",{class:f(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":t(k).processing}]),disabled:t(i).processing},[t(i).processing?(u(),m("svg",Hs,Xs)):(u(),m("span",qs,a(r.$t("Save")),1))],10,Ps)])],32)])]}),_:1},8,["label","isOpen"])]}),_:1},8,["aimodule","fbmodule"]),n(At,{type:"contact",modelValue:T.value,"onUpdate:modelValue":o[18]||(o[18]=L=>T.value=L)},null,8,["modelValue"])],64))}},Do=R(Ws,[["__file","Index.vue"]]);export{Do as default};
