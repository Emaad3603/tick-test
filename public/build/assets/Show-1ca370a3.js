import{T as A,r as C,e as D,f as B,o as p,a as e,c as _,t as n,h as r,g as E,u as a,i as J,j as L,n as m,d as z,F as I}from"./app-06066091.js";import Y from"./App-3a5d1971.js";import{F as c}from"./FormInput-a5364d31.js";import{F as N}from"./FormSelect-6c96738a.js";import{F as j}from"./FormToggleSwitch-ed559e79.js";import{t as g}from"./index-8e47e887.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./Sidebar-53ff02b1.js";import"./Menu-18e4a0b3.js";import"./ProfileModal-9fa7d7fd.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./transition-9e93c540.js";import"./hidden-94645dc9.js";import"./use-outside-click-6f649936.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./use-resolve-button-type-737f9372.js";import"./LangToggle-4117f8d3.js";import"./use-text-value-6338b60a.js";import"./MobileSidebar-c90c1661.js";import"./index-2177aed8.js";/* empty css              */const G={class:"p-8 rounded-[5px] text-[#000] overflow-y-scroll"},H={class:"flex justify-between"},K={key:0,class:"text-xl mb-1"},Q={key:1,class:"text-xl mb-1"},R={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},W=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),X={key:0,class:"ml-1 mt-1"},ee={key:1,class:"ml-1 mt-1"},se={class:"sm:flex border-b py-5"},te={class:"hidden sm:block sm:w-[40%] mb-1"},oe={class:"text-sm text-gray-500 tracking-[0px]"},ae={class:"sm:w-[60%] sm:flex space-x-6"},le={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},ie={class:"sm:flex border-b py-5"},ne={class:"hidden sm:block sm:w-[40%] mb-1"},re={class:"text-sm text-gray-500 tracking-[0px]"},me={class:"sm:w-[60%] sm:flex space-x-6"},de={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},pe={class:"sm:flex border-b py-5"},ce={class:"hidden sm:block w-[40%] mb-1"},ue={class:"text-sm text-gray-500 tracking-[0px]"},_e={class:"sm:w-[60%] sm:flex space-x-6"},ge={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},he={class:"sm:flex py-5 border-b"},ve={class:"hidden sm:block w-[40%] mb-1"},fe={class:"text-sm text-gray-500 tracking-[0px]"},be={class:"sm:w-[60%]"},xe={class:"bg-orange-100 p-2 rounded-md shadow-sm sm:w-[80%] mb-4 flex items-center gap-x-1"},we=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),ye={class:"text-sm leading-6"},Ve={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},ke={class:"sm:flex py-5 border-b"},$e={class:"hidden sm:block w-[40%] mb-1"},Se={class:"text-sm text-gray-500 tracking-[0px]"},Ue={class:"text-xs text-slate-700"},Fe={class:"sm:w-[60%]"},Ce={class:"sm:w-[80%] grid gap-x-6 gap-y-4 sm:grid-cols-6"},Be={class:"sm:col-span-3"},Ne={class:"text-sm mb-2"},je={class:"py-5 sm:flex"},Oe={class:"w-[40%]"},Me={class:"text-sm text-gray-500 tracking-[0px]"},Pe={class:"text-xs text-slate-700 flex items-center"},Te={class:"sm:w-[20%]"},Ze={class:"py-6"},Ae={type:"submit",class:"float-right flex items-center space-x-4 rounded-md bg-black px-3 py-2 text-sm text-white shadow-sm hover:bg-slate-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},De={__name:"Show",props:{title:String,plan:Object,addons:Object},setup(h){var v,f,b,x,w,y,V,k,$,S,U,F;const i=h,d=(t,l)=>{if(t){const s=JSON.parse(t);return(s==null?void 0:s[l])??null}else return null},O=(t,l)=>{if(t){const s=JSON.parse(t);return s!=null&&s[l]?s[l]:i.addons.reduce((u,Z)=>(u[Z]=!1,u),{})}return i.addons.reduce((s,u)=>(s[u]=!1,s),{})},o=A({name:(v=i.plan)==null?void 0:v.name,price:(f=i.plan)==null?void 0:f.price,period:(b=i.plan)==null?void 0:b.period,status:(x=i.plan)==null?void 0:x.status,campaign_limit:d((w=i.plan)==null?void 0:w.metadata,"campaign_limit")??"-1",message_limit:d((y=i.plan)==null?void 0:y.metadata,"message_limit")??"-1",contacts_limit:d((V=i.plan)==null?void 0:V.metadata,"contacts_limit")??"-1",canned_replies_limit:d((k=i.plan)==null?void 0:k.metadata,"canned_replies_limit")??"-1",team_limit:d(($=i.plan)==null?void 0:$.metadata,"team_limit")??"-1",receive_messages_after_expiration:d((S=i.plan)==null?void 0:S.metadata,"receive_messages_after_expiration")==1||d((U=i.plan)==null?void 0:U.metadata,"receive_messages_after_expiration")==null,addons:O((F=i.plan)==null?void 0:F.metadata,"addons")}),M=C([{value:"active",label:g("active")},{value:"inactive",label:g("inactive")}]),P=C([{value:"monthly",label:g("Monthly")},{value:"yearly",label:g("Yearly")}]),T=async()=>{const t=i.plan?window.location.pathname:"/admin/plans";o[i.plan?"put":"post"](t,{preserveScroll:!0})};return(t,l)=>(p(),D(Y,null,{default:B(()=>[e("div",G,[e("div",H,[e("div",null,[i.plan===null?(p(),_("h1",K,n(t.$t("Create plan")),1)):(p(),_("h1",Q,n(t.$t("Update plan")),1)),e("p",R,[W,i.plan===null?(p(),_("span",X,n(t.$t("Create plan")),1)):(p(),_("span",ee,n(t.$t("Update plan")),1))])]),e("div",null,[r(a(J),{href:"/admin/plans",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:B(()=>[E(n(t.$t("Back")),1)]),_:1})])]),e("form",{onSubmit:l[10]||(l[10]=L(s=>T(),["prevent"])),class:"bg-white border py-5 px-5 rounded-[0.5rem]"},[e("div",se,[e("div",te,[e("h1",oe,n(t.$t("Name")),1)]),e("div",ae,[e("div",le,[r(c,{modelValue:a(o).name,"onUpdate:modelValue":l[0]||(l[0]=s=>a(o).name=s),name:t.$t("Name"),error:a(o).errors.name,type:"text",class:m("sm:col-span-6")},null,8,["modelValue","name","error"])])])]),e("div",ie,[e("div",ne,[e("h1",re,n(t.$t("Status")),1)]),e("div",me,[e("div",de,[r(N,{modelValue:a(o).status,"onUpdate:modelValue":l[1]||(l[1]=s=>a(o).status=s),options:M.value,error:a(o).errors.status,name:t.$t("Status"),class:m("sm:col-span-6"),placeholder:t.$t("Select status")},null,8,["modelValue","options","error","name","placeholder"])])])]),e("div",pe,[e("div",ce,[e("h1",ue,n(t.$t("Pricing details")),1)]),e("div",_e,[e("div",ge,[r(c,{modelValue:a(o).price,"onUpdate:modelValue":l[2]||(l[2]=s=>a(o).price=s),name:t.$t("Price"),error:a(o).errors.price,type:"number",class:m("sm:col-span-3")},null,8,["modelValue","name","error"]),r(N,{modelValue:a(o).period,"onUpdate:modelValue":l[3]||(l[3]=s=>a(o).period=s),options:P.value,error:a(o).errors.period,name:t.$t("Period"),class:m("sm:col-span-3"),placeholder:t.$t("Select period")},null,8,["modelValue","options","error","name","placeholder"])])])]),e("div",he,[e("div",ve,[e("h1",fe,n(t.$t("Plan limit")),1)]),e("div",be,[e("div",xe,[we,e("p",ye,n(t.$t("For unlimited usage, set -1 as the value")),1)]),e("div",Ve,[r(c,{modelValue:a(o).campaign_limit,"onUpdate:modelValue":l[4]||(l[4]=s=>a(o).campaign_limit=s),name:t.$t("Campaign limit"),error:a(o).errors.campaign_limit,type:"number",class:m("sm:col-span-3")},null,8,["modelValue","name","error"]),r(c,{modelValue:a(o).message_limit,"onUpdate:modelValue":l[5]||(l[5]=s=>a(o).message_limit=s),name:t.$t("Message limit"),error:a(o).errors.message_limit,type:"number",class:m("sm:col-span-3")},null,8,["modelValue","name","error"]),r(c,{modelValue:a(o).contacts_limit,"onUpdate:modelValue":l[6]||(l[6]=s=>a(o).contacts_limit=s),name:t.$t("Contacts limit"),error:a(o).errors.contacts_limit,type:"number",class:m("sm:col-span-3")},null,8,["modelValue","name","error"]),r(c,{modelValue:a(o).canned_replies_limit,"onUpdate:modelValue":l[7]||(l[7]=s=>a(o).canned_replies_limit=s),name:t.$t("Canned replies limit"),error:a(o).errors.canned_replies_limit,type:"number",class:m("sm:col-span-3")},null,8,["modelValue","name","error"]),r(c,{modelValue:a(o).team_limit,"onUpdate:modelValue":l[8]||(l[8]=s=>a(o).team_limit=s),name:t.$t("User limit"),error:a(o).errors.team_limit,type:"number",class:m("sm:col-span-3")},null,8,["modelValue","name","error"])])])]),e("div",ke,[e("div",$e,[e("h1",Se,n(t.$t("Addons access")),1),e("p",Ue,n(t.$t("Select addons that are available in this plan")),1)]),e("div",Fe,[e("div",Ce,[(p(!0),_(I,null,z(h.addons,s=>(p(),_("div",Be,[e("div",Ne,n(s),1),r(j,{modelValue:a(o).addons[s],"onUpdate:modelValue":u=>a(o).addons[s]=u},null,8,["modelValue","onUpdate:modelValue"])]))),256))])])]),e("div",je,[e("div",Oe,[e("h1",Me,n(t.$t("Enable message reception after plan expiration")),1),e("div",Pe,[e("span",null,n(t.$t("Toggle this setting to allow or block inbound messages when a user's subscription plan has ended.")),1)])]),e("div",Te,[r(j,{modelValue:a(o).receive_messages_after_expiration,"onUpdate:modelValue":l[9]||(l[9]=s=>a(o).receive_messages_after_expiration=s),class:"float-left"},null,8,["modelValue"])])]),e("div",Ze,[e("button",Ae,n(t.$t("Save")),1)])],32)])]),_:1}))}},ms=q(De,[["__file","Show.vue"]]);export{ms as default};
