import{m as E,K as H,T as D,r as g,O as q,o as m,c as y,a as e,w as G,v as K,u,b as $,h as o,f as t,g as d,t as i,e as T,F as j,d as J,n as M,k as P,l as Q,j as O}from"./app-06066091.js";import{A as W}from"./App-53e90ba2.js";import{d as X}from"./debounce-26497136.js";import{A as Y}from"./AlertModal-04f87487.js";import{u as ee}from"./useAlertModal-20c1d6c7.js";import{T as te}from"./Table-593fb9c4.js";import{T as oe,a as se,b as h}from"./TableHeaderRowItem-58f056c6.js";import{T as le,a as ae,b as w}from"./TableBodyRowItem-f7a16ee1.js";import{D as re}from"./Dropdown-82fc851d.js";import{D as ie,a as R}from"./DropdownItem-f7277231.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import{M as ne}from"./Modal-858f9f8a.js";import{F as ue}from"./FormInput-a5364d31.js";import{F as de}from"./FormSelect-6c96738a.js";import{t as k}from"./index-8e47e887.js";import"./Sidebar-56399b82.js";import"./Menu-32707887.js";import"./ProfileModal-9fa7d7fd.js";import"./FormPhoneInput-8d88435b.js";/* empty css                      */import"./transition-9e93c540.js";import"./hidden-94645dc9.js";import"./use-outside-click-6f649936.js";import"./micro-task-89dcd6af.js";import"./tabs-470b041d.js";import"./use-resolve-button-type-737f9372.js";import"./LangToggle-4117f8d3.js";import"./OrganizationModal-94b0dd29.js";import"./use-text-value-6338b60a.js";import"./index-2177aed8.js";import"./MobileSidebar-c9250509.js";/* empty css              */import"./_baseGetTag-c09aeb4c.js";import"./Pagination-d90e3b69.js";import"./use-tree-walker-26135af6.js";const me={class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-12 md:h-10 w-full md:w-80 rounded-[0.5rem] mb-6 text-xl md:text-sm"},ce=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1),pe=["placeholder"],fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1),ve=[fe],be={key:1,class:"pr-2"},he=Q('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1),we=[he],ge={class:"py-1 rounded-[5px] text-xs px-3 bg-[#ddebf7] text-slate-700"},ye=e("button",{class:"inline-flex w-full justify-center rounded-md text-sm font-medium text-black hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},[e("span",{class:"hover:bg-[#F6F7F9] hover:rounded-full w-[fit-content] p-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2Z"})])])],-1),_e={__name:"TeamTable",props:{rows:{type:Object,required:!0},filters:{type:Object}},emits:["edit","delete"],setup(_,{emit:A}){var I;const p=_,b=E(()=>H().props.auth.user),{isOpenAlert:f,openAlert:x,confirmAlert:r}=ee(),V=D({test:null}),C=a=>{V.delete("/team/"+a)},B=a=>a===p.rows.data.length-1,s=g({search:(I=p.filters)==null?void 0:I.search}),n=g(!1),v=A,L=()=>{s.value.search=null,N()},F=X(()=>{n.value=!0,N()},1e3),N=()=>{q.visit("/team",{method:"get",data:s.value})};function U(a,c,l){v("edit",{id:a,role:c,email:l})}return(a,c)=>(m(),y(j,null,[e("div",me,[ce,G(e("input",{onInput:c[0]||(c[0]=(...l)=>u(F)&&u(F)(...l)),"onUpdate:modelValue":c[1]||(c[1]=l=>s.value.search=l),type:"text",class:"outline-none px-4 w-full",placeholder:a.$t("Search team")},null,40,pe),[[K,s.value.search]]),n.value===!1&&s.value.search?(m(),y("button",{key:0,onClick:L,type:"button",class:"pr-2"},ve)):$("",!0),n.value?(m(),y("span",be,we)):$("",!0)]),o(te,{rows:_.rows},{default:t(()=>[o(oe,null,{default:t(()=>[o(se,null,{default:t(()=>[o(h,{position:"first"},{default:t(()=>[d(i(a.$t("Name")),1)]),_:1}),o(h,null,{default:t(()=>[d(i(a.$t("Email")),1)]),_:1}),o(h,null,{default:t(()=>[d(i(a.$t("Role")),1)]),_:1}),o(h,null,{default:t(()=>[d(i(a.$t("Status")),1)]),_:1}),o(h,null,{default:t(()=>[d(i(a.$t("Last updated")),1)]),_:1}),b.value.teams[0].role==="owner"?(m(),T(h,{key:0,position:"last"})):$("",!0)]),_:1})]),_:1}),o(le,null,{default:t(()=>[(m(!0),y(j,null,J(_.rows.data,(l,S)=>(m(),T(ae,{key:S,class:M(B(S)?"":"border-b")},{default:t(()=>[o(w,{position:"first",class:"capitalize"},{default:t(()=>[d(i(l.user.first_name+" "+l.user.last_name),1)]),_:2},1024),o(w,{class:"hidden sm:table-cell"},{default:t(()=>[d(i(l.user.email),1)]),_:2},1024),o(w,{class:"hidden sm:table-cell"},{default:t(()=>[d(i(a.$t(l.role)),1)]),_:2},1024),o(w,{class:"capitalize hidden sm:table-cell"},{default:t(()=>[e("span",ge,i(a.$t(l.status)),1)]),_:2},1024),o(w,{class:"hidden sm:table-cell"},{default:t(()=>[d(i(l.updated_at),1)]),_:2},1024),b.value.teams[0].role==="owner"?(m(),T(w,{key:0,position:"last"},{default:t(()=>[l.role!="owner"?(m(),T(re,{key:0,align:"right",class:"mt-2"},{items:t(()=>[o(ie,null,{default:t(()=>[o(R,{as:"button",onClick:z=>U(l.uuid,l.role,l.user.email)},{default:t(()=>[d(i(a.$t("Edit")),1)]),_:2},1032,["onClick"]),o(R,{as:"button",onClick:z=>u(x)(l.uuid)},{default:t(()=>[d(i(a.$t("Remove user")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[ye]),_:2},1024)):$("",!0)]),_:2},1024)):$("",!0)]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["rows"]),o(Y,{modelValue:u(f),"onUpdate:modelValue":c[2]||(c[2]=l=>P(f)?f.value=l:null),onConfirm:c[3]||(c[3]=()=>u(r)(C)),label:a.$t("Delete row"),description:a.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},xe=Z(_e,[["__file","TeamTable.vue"]]),$e={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},Te={class:"flex justify-between"},Ce={class:"text-xl mb-1"},ke={class:"mb-6 flex items-center text-sm leading-6"},Me=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),Ae={class:"ml-1 mt-1"},Ve={class:"mt-5 grid grid-cols-1 gap-x-6 gap-y-4"},Be={class:"mt-4 flex"},Fe=["disabled"],Ne={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Ie=e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),Se=e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1),je=[Ie,Se],Oe={key:1},Re={__name:"Index",props:{rows:Object,filters:Object},setup(_){const A=_,p=g(!1),b=g("/team/invite"),f=g("post"),x=g("Invite user"),r=D({email:null,role:null}),V=[{value:"manager",label:k("Manager")},{value:"agent",label:k("Agent")}],C=(s,n={})=>{x.value=k("Invite user"),b.value="/team/invite",f.value="post",s?(x.value=k("Update user"),b.value="/team/"+s.id,f.value="put",r.email=s.email,r.role=s.role,p.value=!0):(r.email=null,r.role=null,p.value=!0)},B=()=>{f.value==="post"?r.post(b.value,{onFinish:()=>{p.value=!1}}):r.put(b.value,{onFinish:()=>{p.value=!1}})};return(s,n)=>(m(),T(W,null,{default:t(()=>[e("div",$e,[e("div",Te,[e("div",null,[e("h2",Ce,i(s.$t("Team")),1),e("p",ke,[Me,e("span",Ae,i(s.$t("Add edit and delete accounts in your team")),1)])]),e("div",null,[e("button",{onClick:n[0]||(n[0]=v=>C()),class:"rounded-md bg-indigo-600 px-3 py-2 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},i(s.$t("Invite user")),1)])]),o(xe,{rows:A.rows,onEdit:C},null,8,["rows"])]),o(ne,{label:x.value,isOpen:p.value},{default:t(()=>[e("div",Ve,[e("form",{onSubmit:n[4]||(n[4]=O(v=>B(),["prevent"])),class:"grid gap-x-6 gap-y-4 sm:grid-cols-6"},[o(ue,{modelValue:u(r).email,"onUpdate:modelValue":n[1]||(n[1]=v=>u(r).email=v),error:u(r).errors.email,name:s.$t("Email"),type:"email",class:M("sm:col-span-6"),disabled:f.value==="put"},null,8,["modelValue","error","name","disabled"]),o(de,{modelValue:u(r).role,"onUpdate:modelValue":n[2]||(n[2]=v=>u(r).role=v),error:u(r).errors.role,options:V,name:s.$t("Role"),class:M("sm:col-span-6"),placeholder:s.$t("Select Role")},null,8,["modelValue","error","name","placeholder"]),e("div",Be,[e("button",{type:"button",onClick:n[3]||(n[3]=O(v=>p.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},i(s.$t("Cancel")),1),e("button",{class:M(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":u(r).processing}]),disabled:u(r).processing},[u(r).processing?(m(),y("svg",Ne,je)):(m(),y("span",Oe,i(s.$t("Save")),1))],10,Fe)])],32)])]),_:1},8,["label","isOpen"])]),_:1}))}},gt=Z(Re,[["__file","Index.vue"]]);export{gt as default};
