import{r as C,T as V,q as F,R,c as r,a as e,h as d,f as y,u as n,t as c,g,j as $,b as x,n as j,o as i,i as w}from"./app-06066091.js";import{F as A}from"./FormInput-a5364d31.js";import{u as B,a as M}from"./ReCaptcha-55f58cbf.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const S={class:"flex h-screen justify-center"},T={class:"flex justify-center"},Z={class:"w-[20em] mt-40"},E={class:"flex justify-center mb-5"},L=["src","alt"],U={key:1,class:"text-2xl mb-2"},q={class:"text-2xl text-center"},z={class:"text-center text-sm text-slate-500"},D={key:0,class:"text-sm bg-[green] text-white mb-2 py-2 px-1 text-center rounded"},I={key:1,class:"form-error text-[#b91c1c] text-xs"},K={class:"mt-6"},P={key:0,type:"submit",class:"rounded-md bg-primary px-3 py-3 text-sm text-white shadow-sm w-full"},G={key:1,type:"button",class:"rounded-md bg-primary px-3 py-3 text-sm text-white shadow-sm w-full flex justify-center"},H=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"}),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})])],-1),J=[H],O={__name:"Forgot",props:["flash","config","companyConfig"],setup(v){const o=v,p=C(!1),a=V({email:null,recaptcha_response:null}),l=t=>{const s=o.config.find(m=>m.key===t);return s?s.value:""},b=async()=>{if(p.value=!0,l("recaptcha_active")==="1"){const t=await k();a.recaptcha_response=t}a.post("forgot-password",{preserveScroll:!0,onFinish:()=>{p.value=!1}})},k=()=>new Promise(t=>{grecaptcha.ready(()=>{grecaptcha.execute(l("recaptcha_site_key"),{action:"submit"}).then(s=>{t(s)})})});return F(()=>{l("recaptcha_active")==="1"&&B(l("recaptcha_site_key"))}),R(()=>{M(l("recaptcha_site_key"))}),(t,s)=>{var m,u,f,h;return i(),r("div",S,[e("div",T,[e("div",Z,[e("div",E,[d(n(w),{href:"/"},{default:y(()=>[o.companyConfig.logo?(i(),r("img",{key:0,class:"max-w-[180px]",src:"/media/"+o.companyConfig.logo,alt:o.companyConfig.company_name},null,8,L)):(i(),r("h4",U,c(o.companyConfig.company_name),1))]),_:1})]),e("h1",q,c(t.$t("Reset password")),1),e("div",z,[g(c(t.$t("Remembered password?"))+" ",1),d(n(w),{href:"login",class:"text-sm text-primary-600 dark:text-primary-500 border-b hover:border-gray-500"},{default:y(()=>[g(c(t.$t("Login")),1)]),_:1})]),e("form",{onSubmit:s[1]||(s[1]=$(_=>b(),["prevent"])),class:"mt-5"},[(u=(m=o.flash)==null?void 0:m.status)!=null&&u.message?(i(),r("div",D,[e("span",null,c((h=(f=o.flash)==null?void 0:f.status)==null?void 0:h.message),1)])):x("",!0),d(A,{modelValue:n(a).email,"onUpdate:modelValue":s[0]||(s[0]=_=>n(a).email=_),name:t.$t("Email"),error:n(a).errors.email,type:"email",class:j("sm:col-span-6")},null,8,["modelValue","name","error"]),n(a).errors.recaptcha_response?(i(),r("div",I,c(n(a).errors.recaptcha_response),1)):x("",!0),e("div",K,[p.value?(i(),r("button",G,J)):(i(),r("button",P,c(t.$t("Send password reset link")),1))])],32)])])])}}},ee=N(O,[["__file","Forgot.vue"]]);export{ee as default};
